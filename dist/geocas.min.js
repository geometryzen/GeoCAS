/*! geocas 2016-09-23 */
!function(a,b){var c,d,b,e=a.define;!function(a){function e(a,b){return v.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b&&b.split("/"),p=t.map,q=p&&p["*"]||{};if(a){for(a=a.split("/"),g=a.length-1,t.nodeIdCompat&&x.test(a[g])&&(a[g]=a[g].replace(x,"")),"."===a[0].charAt(0)&&o&&(n=o.slice(0,o.length-1),a=n.concat(a)),k=0;k<a.length;k++)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(0===k||1===k&&".."===a[2]||".."===a[k-1])continue;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}if((o||q)&&p){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),o)for(l=o.length;l>0;l-=1)if(e=p[o.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(b,c){return function(){var d=w.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),o.apply(a,d.concat([b,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){r[a]=b}}function j(b){if(e(s,b)){var c=s[b];delete s[b],u[b]=!0,n.apply(a,c)}if(!e(r,b)&&!e(u,b))throw new Error("No "+b);return r[b]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return a?k(a):[]}function m(a){return function(){return t&&t.config&&t.config[a]||{}}}var n,o,p,q,r={},s={},t={},u={},v=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;p=function(a,b){var c,d=k(a),e=d[0],g=b[1];return a=d[1],e&&(e=f(e,g),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(g)):f(a,g):(a=f(a,g),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},q={require:function(a){return g(a)},exports:function(a){var b=r[a];return"undefined"!=typeof b?b:r[a]={}},module:function(a){return{id:a,uri:"",exports:r[a],config:m(a)}}},n=function(b,c,d,f){var h,k,m,n,o,t,v,w=[],x=typeof d;if(f=f||b,t=l(f),"undefined"===x||"function"===x){for(c=!c.length&&d.length?["require","exports","module"]:c,o=0;o<c.length;o+=1)if(n=p(c[o],t),k=n.f,"require"===k)w[o]=q.require(b);else if("exports"===k)w[o]=q.exports(b),v=!0;else if("module"===k)h=w[o]=q.module(b);else if(e(r,k)||e(s,k)||e(u,k))w[o]=j(k);else{if(!n.p)throw new Error(b+" missing "+k);n.p.load(n.n,g(f,!0),i(k),{}),w[o]=r[k]}m=d?d.apply(r[b],w):void 0,b&&(h&&h.exports!==a&&h.exports!==r[b]?r[b]=h.exports:m===a&&v||(r[b]=m))}else b&&(r[b]=d)},c=d=o=function(b,c,d,e,f){if("string"==typeof b)return q[b]?q[b](c):j(p(b,l(c)).f);if(!b.splice){if(t=b,t.deps&&o(t.deps,t.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?n(a,b,c,d):setTimeout(function(){n(a,b,c,d)},4),o},o.config=function(a){return o(a)},c._defined=r,b=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(r,a)||e(s,a)||(s[a]=[a,b,c])},b.amd={jQuery:!0}}(),b("../bower_components/almond/almond",function(){});var f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b("geocas/math/BigInteger",["require","exports"],function(a,b){"use strict";function c(a){return-T<a&&a<T}function d(a){return a<1e7?[a]:a<1e14?[a%1e7,Math.floor(a/1e7)]:[a%1e7,Math.floor(a/1e7)%1e7,Math.floor(a/1e14)]}function e(a){g(a);var b=a.length;if(b<4&&A(a,U)<0)switch(b){case 0:return 0;case 1:return a[0];case 2:return a[0]+a[1]*R;default:return a[0]+(a[1]+a[2]*R)*R}return a}function g(a){for(var b=a.length;0===a[--b];);a.length=b+1}function h(a){for(var b=new Array(a),c=-1;++c<a;)b[c]=0;return b}function i(a){return a>0?Math.floor(a):Math.ceil(a)}function j(a,b){var c,d,e=a.length,f=b.length,g=new Array(e),h=0,i=R;for(d=0;d<f;d++)c=a[d]+b[d]+h,h=c>=i?1:0,g[d]=c-h*i;for(;d<e;)c=a[d]+h,h=c===i?1:0,g[d++]=c-h*i;return h>0&&g.push(h),g}function k(a,b){return a.length>=b.length?j(a,b):j(b,a)}function l(a,b){var c,d=a.length,e=new Array(d),f=R;for(c=0;c<d;c++){var g=a[c]-f+b;b=Math.floor(g/f),e[c]=g-b*f,b+=1}for(;b>0;)e[c++]=b%f,b=Math.floor(b/f);return e}function m(a,b){var c,d,e=a.length,f=b.length,h=new Array(e),i=0,j=R;for(c=0;c<f;c++)d=a[c]-i-b[c],d<0?(d+=j,i=1):i=0,h[c]=d;for(c=f;c<e;c++){if(d=a[c]-i,!(d<0)){h[c++]=d;break}d+=j,h[c]=d}for(;c<e;c++)h[c]=a[c];return g(h),h}function n(a,b,c){var d;A(a,b)>=0?d=m(a,b):(d=m(b,a),c=!c);var f=e(d);return"number"==typeof f?(c&&(f=-f),new aa(f)):new _(f,c)}function o(a,b,c){for(var d=a.length,f=new Array(d),g=-b,h=R,i=0;i<d;i++){var j=a[i]+g;g=Math.floor(j/h),j%=h,f[i]=j<0?j+h:j}var k=e(f);return"number"==typeof k?(c&&(k=-k),new aa(k)):new _(k,c)}function p(a,b){for(var c=a.length,d=b.length,e=c+d,f=h(e),i=R,j=0;j<c;++j)for(var k=a[j],l=0;l<d;++l){var m=b[l],n=k*m+f[j+l],o=Math.floor(n/i);f[j+l]=n-o*i,f[j+l+1]+=o}return g(f),f}function q(a,b){var c,d=a.length,e=new Array(d),f=R,g=0;for(c=0;c<d;c++){var h=a[c]*b+g;g=Math.floor(h/f),e[c]=h-g*f}for(;g>0;)e[c++]=g%f,g=Math.floor(g/f);return e}function r(a,b){for(var c=[];b-- >0;)c.push(0);return c.concat(a)}function s(a,b){var c=Math.max(a.length,b.length);if(c<=30)return p(a,b);c=Math.ceil(c/2);var d=a.slice(c),e=a.slice(0,c),f=b.slice(c),h=b.slice(0,c),i=s(e,h),j=s(d,f),l=s(k(e,d),k(h,f)),n=k(k(i,r(m(m(l,i),j),c)),r(j,2*c));return g(n),n}function t(a,b){return-.012*a-.012*b+15e-6*a*b>0}function u(a,b,c){return a<R?new _(q(b,a),c):new _(p(b,d(a)),c)}function v(a){for(var b=a.length,c=h(b+b),d=R,e=0;e<b;e++)for(var f=a[e],i=0;i<b;i++){var j=a[i],k=f*j+c[e+i],l=Math.floor(k/d);c[e+i]=k-l*d,c[e+i+1]+=l}return g(c),c}function w(a,b){var c,d,f=a.length,g=b.length,i=R,j=h(b.length),k=b[g-1],l=Math.ceil(i/(2*k)),m=q(a,l),n=q(b,l);for(m.length<=f&&m.push(0),n.push(0),k=n[g-1],d=f-g;d>=0;d--){c=i-1,m[d+g]!==k&&(c=Math.floor((m[d+g]*i+m[d+g-1])/k));for(var o=0,p=0,r=n.length,s=0;s<r;s++){o+=c*n[s];var t=Math.floor(o/i);p+=m[d+s]-(o-t*i),o=t,p<0?(m[d+s]=p+i,p=-1):(m[d+s]=p,p=0)}for(;0!==p;){c-=1,o=0;for(var u=0;u<r;u++)o+=m[d+u]-i+n[u],o<0?(m[d+u]=o+i,o=0):(m[d+u]=o,o=1);p+=o}j[d]=c}return m=y(m,l)[0],[e(j),e(m)]}function x(a,b){for(var c=a.length,d=b.length,f=[],g=[],h=R;c;)if(g.unshift(a[--c]),A(g,b)<0)f.push(0);else{var i=g.length,j=g[i-1]*h+g[i-2],k=b[d-1]*h+b[d-2];i>d&&(j=(j+1)*h);var l=Math.ceil(j/k),n=void 0;do{if(n=q(b,l),A(n,g)<=0)break;l--}while(l);f.push(l),g=m(g,n)}return f.reverse(),[e(f),e(g)]}function y(a,b){for(var c=a.length,d=h(c),e=R,f=0,g=c-1;g>=0;--g){var j=f*e+a[g],k=i(j/b);f=j-k*b,d[g]=0|k}return[d,0|f]}function z(a,b){var c,f,g=O(b),h=a.value,j=g.value;if(0===j)throw new Error("Cannot divide by zero");if(a.isSmall)return g.isSmall?[new aa(i(h/j)),new aa(h%j)]:[$[0],a];if(g.isSmall){if(1===j)return[a,$[0]];if(j===-1)return[a.negate(),$[0]];var k=Math.abs(j);if(k<R){c=y(h,k),f=e(c[0]);var l=c[1];return a.sign&&(l=-l),"number"==typeof f?(a.sign!==g.sign&&(f=-f),[new aa(f),new aa(l)]):[new _(f,a.sign!==g.sign),new aa(l)]}j=d(k)}var m=h,n=j,o=A(m,n);if(o===-1)return[$[0],a];if(0===o)return[$[a.sign===g.sign?1:-1],$[0]];c=m.length+n.length<=200?w(m,n):x(m,n),f=c[0];var p,q=a.sign!==g.sign,r=c[1],s=a.sign;return"number"==typeof f?(q&&(f=-f),p=new aa(f)):p=new _(f,q),"number"==typeof r?(s&&(r=-r),[p,new aa(r)]):[p,new _(r,s)]}function A(a,b){if(a.length!==b.length)return a.length>b.length?1:-1;for(var c=a.length-1;c>=0;c--)if(a[c]!==b[c])return a[c]>b[c]?1:-1;return 0}function B(a){var b=a.abs();return!b.isUnit()&&(!!(b.equals(2)||b.equals(3)||b.equals(5))||!(b.isEven()||b.isDivisibleBy(3)||b.isDivisibleBy(5))&&(!!b.lesser(25)||void 0))}function C(a){return("number"==typeof a||"string"==typeof a)&&+Math.abs(a)<=R||a instanceof _&&a.value.length<=1}function D(a,b,c){for(var d=O(b),e=a.isNegative(),f=d.isNegative(),g=e?a.not():a,h=f?d.not():d,i=[],j=[],k=!1,l=!1;!k||!l;)g.isZero()?(k=!0,i.push(e?1:0)):e?i.push(g.isEven()?1:0):i.push(g.isEven()?0:1),h.isZero()?(l=!0,j.push(f?1:0)):f?j.push(h.isEven()?1:0):j.push(h.isEven()?0:1),g=g.over(2),h=h.over(2);for(var m=[],n=0;n<i.length;n++)m.push(c(i[n],j[n]));for(var o=Q(m.pop()).negate().times(Q(2).pow(m.length));m.length;)o=o.add(Q(m.pop()).times(Q(2).pow(m.length)));return o}function E(a){var b=a.value,c="number"==typeof b?b|ba:b[0]+b[1]*R|ca;return c&-c}function F(a,b){var c=O(a),d=O(b);return c.greater(d)?c:d}function G(a,b){var c=O(a),d=O(b);return c.lesser(d)?c:d}function H(a,b){var c=O(a).abs(),d=O(b).abs();if(c.equals(d))return c;if(c.isZero())return d;if(d.isZero())return c;for(var e=$[1];c.isEven()&&d.isEven();){var f=Math.min(E(c),E(d));c=c.divide(f),d=d.divide(f),e=e.multiply(f)}for(;c.isEven();)c=c.divide(E(c));do{for(;d.isEven();)d=d.divide(E(d));if(c.greater(d)){var g=d;d=c,c=g}d=d.subtract(c)}while(!d.isZero());return e.isUnit()?c:c.multiply(e)}function I(a,b){var c=O(a).abs(),d=O(b).abs();return c.divide(H(c,d)).multiply(d)}function J(a,b){if("undefined"==typeof a)throw new Error("a must be number | string | Integer");if("undefined"==typeof b)throw new Error("b must be number | string | Integer");a=O(a),b=O(b);var c=G(a,b),d=F(a,b),f=d.subtract(c);if(f.isSmall)return c.add(Math.round(Math.random()*f.valueOf()));for(var g=f.value.length-1,h=[],j=!0,k=g;k>=0;k--){var l=j?f.value[k]:R,m=i(Math.random()*l);h.unshift(m),m<l&&(j=!1)}var n=e(h);return c.add("number"==typeof n?new aa(n):new _(n,(!1)))}function K(a){var b,c=a.value;return b="number"==typeof c?[c]:c,1===b.length&&b[0]<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(b[0]):"<"+b+">"}function L(a,b){var c=Q(b);if(c.isZero()){if(a.isZero())return"0";throw new Error("Cannot convert nonzero numbers to base 0.")}if(c.equals(-1))return a.isZero()?"0":a.isNegative()?new Array(1-a.valueOf()).join("10"):"1"+new Array((+a)).join("01");var d="";if(a.isNegative()&&c.isPositive()&&(d="-",a=a.abs()),c.equals(1))return a.isZero()?"0":d+new Array(+a+1).join("1");for(var e=[],f=a;f.isNegative()||f.compareAbs(c)>=0;){var g=f.divmod(c);f=g.quotient;var h=g.remainder;h.isNegative()&&(h=c.minus(h).abs(),f=f.next()),e.push(K(h))}return e.push(K(f)),d+e.reverse().join("")}function M(a){if(c(+a)){var b=+a;if(b===i(b))return new aa(b);throw"Invalid integer: "+a}var d="-"===a[0];d&&(a=a.slice(1));var e=a.split(/e/i);if(e.length>2)throw new Error("Invalid integer: "+e.join("e"));if(2===e.length){var f=e[1];if("+"===f[0]&&(f=f.slice(1)),f=+f,f!==i(f)||!c(f))throw new Error("Invalid integer: "+f+" is not a valid exponent.");var h=e[0],j=h.indexOf(".");if(j>=0&&(f-=h.length-j-1,h=h.slice(0,j)+h.slice(j+1)),f<0)throw new Error("Cannot include negative exponent part for integers");h+=new Array(f+1).join("0"),a=h}var k=/^([0-9][0-9]*)$/.test(a);if(!k)throw new Error("Invalid integer: "+a);for(var l=[],m=a.length,n=S,o=m-n;m>0;)l.push(+a.slice(o,m)),o-=n,o<0&&(o=0),m-=n;return g(l),new _(l,d)}function N(a){if(c(a)){if(a!==i(a))throw new Error(a+" is not an integer.");return new aa(a)}return M(a.toString())}function O(a){if("number"==typeof a)return N(a);if("string"==typeof a)return M(a);if(a instanceof $)return a;throw new Error("v must be a number or a string or Integer: Found "+typeof a)}function P(a){return a instanceof _||a instanceof aa}function Q(a,b){return new $(a,b)}for(var R=1e7,S=7,T=9007199254740992,U=d(T),V=Math.log(T),W=function(a,b){var c=$[0],d=$[1],e=a.length;if(2<=b&&b<=36&&e<=V/Math.log(b))return new aa(parseInt(a,b));for(var f=O(b),g=[],h="-"===a[0],i=h?1:0;i<a.length;i++){var j=a[i].toLowerCase(),k=j.charCodeAt(0);if(48<=k&&k<=57)g.push(O(j));else if(97<=k&&k<=122)g.push(O(j.charCodeAt(0)-87));else{if("<"!==j)throw new Error(j+" is not a valid character");var l=i;do i++;while(">"!==a[i]);g.push(O(a.slice(l+1,i)))}}g.reverse();for(var m=0;m<g.length;m++)c=c.add(g[m].times(d)),d=d.times(f);return h?c.negate():c},X=[1];X[X.length-1]<=R;)X.push(2*X[X.length-1]);var Y=X.length,Z=X[Y-1],$=function(){function a(b,c){return"undefined"==typeof b?a[0]:"undefined"!=typeof c?10===+c?O(b):W(b,c):O(b)}return a.prototype.add=function(a){throw new Error},a.prototype.plus=function(a){throw new Error},a.prototype.subtract=function(a){throw new Error},a.prototype.isPositive=function(){throw new Error},a.prototype.isNegative=function(){throw new Error},a.prototype.isUnit=function(){throw new Error},a.prototype.isOdd=function(){throw new Error},a.prototype.divmod=function(a){var b=z(this,a);return{quotient:b[0],remainder:b[1]}},a.prototype.divide=function(a){return z(this,a)[0]},a.prototype.over=function(a){return this.divide(a)},a.prototype.mod=function(a){return z(this,a)[1]},a.prototype.remainder=function(a){return this.mod(a)},a.prototype.pow=function(b){var d,e=O(b),f=this.value,g=e.value;if(0===g)return a[1];if(0===f)return a[0];if(1===f)return a[1];if(f===-1)return e.isEven()?a[1]:a[-1];if(e.sign)return a[0];if(!e.isSmall)throw new Error("The exponent "+e.toString()+" is too large.");if(this.isSmall&&c(d=Math.pow(f,g)))return new aa(i(d));for(var h=this,j=a[1];;){if(1===(1&g)&&(j=j.times(h),--g),0===g)break;g/=2,h=h.square()}return j},a.prototype.modPow=function(b,c){var d=O(b),e=O(c);if(e.isZero())throw new Error("Cannot take modPow with modulus 0");for(var f=a[1],g=this.mod(e);d.isPositive();){if(g.isZero())return a[0];d.isOdd()&&(f=f.multiply(g).mod(e)),d=d.divide(2),g=g.square().mod(e)}return f},a.prototype._multiplyBySmall=function(a){throw new Error},a.prototype.compare=function(a){throw new Error},a.prototype.compareAbs=function(a){throw new Error},a.prototype.equals=function(a){return 0===this.compare(a)},a.prototype.eq=function(a){return this.equals(a)},a.prototype.notEquals=function(a){return 0!==this.compare(a)},a.prototype.neq=function(a){return this.notEquals(a)},a.prototype.greater=function(a){return this.compare(a)>0},a.prototype.gt=function(a){return this.greater(a)},a.prototype.lesser=function(a){return this.compare(a)<0},a.prototype.lt=function(a){return this.lesser(a)},a.prototype.greaterOrEquals=function(a){return this.compare(a)>=0},a.prototype.geq=function(a){return this.greaterOrEquals(a)},a.prototype.lesserOrEquals=function(a){return this.compare(a)<=0},a.prototype.leq=function(a){return this.lesserOrEquals(a)},a.prototype.isEven=function(){throw new Error},a.prototype.isDivisibleBy=function(b){var c=O(b),d=c.value;return 0!==d&&(1===d||(2===d?this.isEven():this.mod(c).equals(a[0])))},a.prototype.abs=function(){throw new Error},a.prototype.next=function(){throw new Error},a.prototype.prev=function(){throw new Error},a.prototype.times=function(a){throw new Error},a.prototype.square=function(){throw new Error},a.prototype.isPrime=function(){var b=B(this);if(void 0!==b)return b;for(var c=this.abs(),d=c.prev(),e=[2,3,5,7,11,13,17,19],f=d;f.isEven();)f=f.divide(2);for(var g=0;g<e.length;g++){var h=Q(e[g]).modPow(f,c);if(!h.equals(a[1])&&!h.equals(d)){var i=void 0,j=void 0;for(i=!0,j=f;i&&j.lesser(d);j=j.multiply(2))h=h.square().mod(c),h.equals(d)&&(i=!1);if(i)return!1}}return!0},a.prototype.minus=function(a){throw new Error},a.prototype.isProbablePrime=function(a){var b=B(this);if(void 0!==b)return b;for(var c=this.abs(),d=void 0===a?5:a,e=0;e<d;e++){var f=J(2,c.minus(2));if(!f.modPow(c.prev(),c).isUnit())return!1}return!0},a.prototype.multiply=function(a){throw new Error},a.prototype.shiftLeft=function(a){if(!C(a))throw new Error(String(a)+" is too large for shifting.");var b=+a;if(b<0)return this.shiftRight(-b);for(var c=this;b>=Y;)c=c.multiply(Z),b-=Y-1;return c.multiply(X[b])},a.prototype.isZero=function(){throw new Error},a.prototype.shiftRight=function(a){var b;if(!C(a))throw new Error(String(a)+" is too large for shifting.");var c=+a;if(c<0)return this.shiftLeft(-c);for(var d=this;c>=Y;){if(d.isZero())return d;b=z(d,Z),d=b[1].isNegative()?b[0].prev():b[0],c-=Y-1}return b=z(d,X[c]),b[1].isNegative()?b[0].prev():b[0]},a.prototype.negate=function(){throw new Error},a.prototype.not=function(){return this.negate().prev()},a.prototype.and=function(a){return D(this,a,function(a,b){return a&b})},a.prototype.or=function(a){return D(this,a,function(a,b){return a|b})},a.prototype.xor=function(a){return D(this,a,function(a,b){return a^b})},a.prototype.valueOf=function(){throw new Error},a.prototype.toJSNumber=function(){return this.valueOf()},a.prototype.toStringEx=function(a){throw new Error},a.prototype.toString=function(){return this.toStringEx()},a}();b.Integer=$;var _=function(a){function b(b,c){a.call(this,void 0,void 0),this.value=b,this.sign=c,this.isSmall=!1}return f(b,a),b.prototype.add=function(a){var c=O(a);if(this.sign!==c.sign)return this.subtract(c.negate());var d=this.value;if(c.isSmall){var e=c.value;return new b(l(d,Math.abs(e)),this.sign)}var e=c.value;return new b(k(d,e),this.sign)},b.prototype.plus=function(a){return this.add(a)},b.prototype.__add__=function(a){return this.add(a)},b.prototype.__radd__=function(a){var b=O(a);return b.add(this)},b.prototype.subtract=function(a){var b=O(a);if(this.sign!==b.sign)return this.add(b.negate());var c=this.value;if(b.isSmall){var d=b.value;return o(c,Math.abs(d),this.sign)}var d=b.value;return n(c,d,this.sign)},b.prototype.minus=function(a){return this.subtract(a)},b.prototype.__sub__=function(a){return this.subtract(a)},b.prototype.__rsub__=function(a){var b=O(a);return b.subtract(this)},b.prototype.negate=function(){return new b(this.value,(!this.sign))},b.prototype.neg=function(){return new b(this.value,(!this.sign))},b.prototype.__neg__=function(){return this.negate()},b.prototype.__pos__=function(){return this},b.prototype.abs=function(){return new b(this.value,(!1))},b.prototype.inv=function(){throw new Error("inv() is not supported for BigInteger")},b.prototype.multiply=function(a){var c,e=O(a),f=this.value,g=this.sign!==e.sign;if(e.isSmall){var h=e.value;if(0===h)return $[0];if(1===h)return this;if(h===-1)return this.negate();var i=Math.abs(h);if(i<R)return new b(q(f,i),g);c=d(i)}else c=e.value;return t(f.length,c.length)?new b(s(f,c),g):new b(p(f,c),g)},b.prototype.times=function(a){return this.multiply(a)},b.prototype.__mul__=function(a){return this.multiply(a)},b.prototype.__rmul__=function(a){var b=O(a);return b.multiply(this)},b.prototype._multiplyBySmall=function(a){return 0===a.value?$[0]:1===a.value?this:a.value===-1?this.negate():u(Math.abs(a.value),this.value,this.sign!==a.sign)},b.prototype.square=function(){return new b(v(this.value),(!1))},b.prototype.compareAbs=function(a){var b=O(a),c=this.value;if(b.isSmall)return 1;var d=b.value;return A(c,d)},b.prototype.compare=function(a){if(a===1/0)return-1;if(a===-(1/0))return 1;var b=O(a),c=this.value;if(this.sign!==b.sign)return b.sign?1:-1;if(b.isSmall)return this.sign?-1:1;var d=b.value;return A(c,d)*(this.sign?-1:1)},b.prototype.compareTo=function(a){return this.compare(a)},b.prototype.isEven=function(){return 0===(1&this.value[0])},b.prototype.isOdd=function(){return 1===(1&this.value[0])},b.prototype.isPositive=function(){return!this.sign},b.prototype.isNegative=function(){return this.sign},b.prototype.isOne=function(){return!1},b.prototype.isUnit=function(){return!1},b.prototype.isZero=function(){return!1},b.prototype.next=function(){var a=this.value;return this.sign?o(a,1,this.sign):new b(l(a,1),this.sign)},b.prototype.prev=function(){var a=this.value;return this.sign?new b(l(a,1),(!0)):o(a,1,this.sign)},b.prototype.toStringEx=function(a){if(void 0===a&&(a=10),10!==a)return L(this,a);for(var b=this.value,c=b.length,d=String(b[--c]),e="0000000";--c>=0;){var f=String(b[c]);d+=e.slice(f.length)+f}var g=this.sign?"-":"";return g+d},b.prototype.valueOf=function(){return+this.toStringEx()},b}($),aa=function(a){function b(b){a.call(this,void 0,void 0),this.value=b,this.sign=b<0,this.isSmall=!0}return f(b,a),b.prototype.add=function(a){var e=O(a),f=this.value;if(f<0!==e.sign)return this.subtract(e.negate());var g;if(e.isSmall){var h=e.value;if(c(f+h))return new b(f+h);g=d(Math.abs(h))}else g=e.value;return new _(l(g,Math.abs(f)),f<0)},b.prototype.plus=function(a){return this.add(a)},b.prototype.__add__=function(a){return this.add(a)},b.prototype.__radd__=function(a){var b=O(a);return b.add(this)},b.prototype.subtract=function(a){var c=O(a),d=this.value;if(d<0!==c.sign)return this.add(c.negate());if(c.isSmall){var e=c.value;return new b(d-e)}var e=c.value;return o(e,Math.abs(d),d>=0)},b.prototype.minus=function(a){return this.subtract(a)},b.prototype.__sub__=function(a){return this.subtract(a)},b.prototype.__rsub__=function(a){var b=O(a);return b.subtract(this)},b.prototype.negate=function(){var a=this.sign,c=new b((-this.value));return c.sign=!a,c},b.prototype.neg=function(){return this.negate()},b.prototype.__neg__=function(){return this.negate()},b.prototype.__pos__=function(){return this},b.prototype.abs=function(){return new b(Math.abs(this.value))},b.prototype.inv=function(){throw new Error("inv() is not supported")},b.prototype._multiplyBySmall=function(a){return c(a.value*this.value)?new b(a.value*this.value):u(Math.abs(a.value),d(Math.abs(this.value)),this.sign!==a.sign)},b.prototype.multiply=function(a){return O(a)._multiplyBySmall(this)},b.prototype.times=function(a){return this.multiply(a)},b.prototype.__mul__=function(a){return this.multiply(a)},b.prototype.__rmul__=function(a){var b=O(a);return b.multiply(this)},b.prototype.square=function(){var a=this.value*this.value;return c(a)?new b(a):new _(v(d(Math.abs(this.value))),(!1))},b.prototype.compareAbs=function(a){var b=O(a),c=Math.abs(this.value);if(b.isSmall){var d=b.value,e=Math.abs(d);return c===e?0:c>e?1:-1}return-1},b.prototype.compare=function(a){if(a===1/0)return-1;if(a===-(1/0))return 1;var b=O(a),c=this.value;if(b.isSmall){var d=b.value;return c===d?0:c>d?1:-1}return c<0!==b.sign?c<0?-1:1:c<0?1:-1},b.prototype.compareTo=function(a){return this.compare(a)},b.prototype.isEven=function(){return 0===(1&this.value)},b.prototype.isOdd=function(){return 1===(1&this.value)},b.prototype.isPositive=function(){return this.value>0},b.prototype.isNegative=function(){return this.value<0},b.prototype.isOne=function(){return this.isUnit()},b.prototype.isUnit=function(){return 1===Math.abs(this.value)},b.prototype.isZero=function(){return 0===this.value},b.prototype.next=function(){var a=this.value;return a+1<T?new b(a+1):new _(U,(!1))},b.prototype.prev=function(){var a=this.value;return a-1>-T?new b(a-1):new _(U,(!0))},b.prototype.toStringEx=function(a){return void 0===a&&(a=10),10!==a?L(this,a):String(this.value)},b.prototype.valueOf=function(){return this.value},b}($),ba=1<<30,ca=(R&-R)*(R&-R)|ba;b.max=F,b.min=G,b.gcd=H,b.lcm=I,b.randBetween=J;for(var da=0;da<1e3;da++)$[da]=new aa(da),da>0&&($[-da]=new aa((-da)));b.one=$[1],b.zero=$[0],b.minusOne=$[-1],b.isInstance=P,Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=Q}),b("geocas/math/BigRational",["require","exports","./BigInteger","./BigInteger"],function(a,b,c,d){"use strict";function e(a,b){var c=d.gcd(a,b),e=a.over(c),f=b.over(c);return f.isNegative()?new i(e.negate(),f.negate()):new i(e,f)}function f(a,b){return h(a,b)}function g(a){var b=a.split(/e/i);if(b.length>2)throw new Error("Invalid input: too many 'e' tokens");if(b.length>1){var f=!0;"-"===b[1][0]&&(b[1]=b[1].slice(1),f=!1),"+"===b[1][0]&&(b[1]=b[1].slice(1));var h=g(b[0]),j=new i(c["default"](10).pow(b[1]),d.one);return f?h.times(j):h.over(j)}if(b=a.trim().split("."),b.length>2)throw new Error("Invalid input: too many '.' tokens");if(b.length>1){var k="-"===b[0][0];k&&(b[0]=b[0].slice(1));for(var l=new i(c["default"](b[0]),d.one),m=b[1].length;"0"===b[1][0];)b[1]=b[1].slice(1);var n="1"+Array(m+1).join("0"),o=e(c["default"](b[1]),c["default"](n));return l=l.add(o),k&&(l=l.negate()),l}return new i(c["default"](a),d.one)}function h(a,b){if(!a)return new i(c["default"](0),d.one);if(b)return e(c["default"](a),c["default"](b));if(d.isInstance(a))return new i(a,d.one);if(a instanceof i)return a;var f,h,j=String(a),k=j.split("/");if(k.length>2)throw new Error("Invalid input: too many '/' tokens");if(k.length>1){var l=k[0].split("_");if(l.length>2)throw new Error("Invalid input: too many '_' tokens");if(l.length>1){var m="-"!==l[0][0];return f=c["default"](l[0]).times(k[1]),f=m?f.add(l[1]):f.subtract(l[1]),h=c["default"](k[1]),e(f,h)}return e(c["default"](k[0]),c["default"](k[1]))}return g(j)}var i=function(){function a(a,b){if(this.numer=a,this.denom=b,b.isZero())throw"Denominator cannot be 0."}return a.prototype.add=function(a,b){var c=f(a,b),g=d.lcm(this.denom,c.denom),h=g.divide(this.denom),i=g.divide(c.denom);return h=this.numer.times(h),i=c.numer.times(i),e(h.add(i),g)},a.prototype.plus=function(a,b){return this.add(a,b)},a.prototype.__add__=function(a){return this.add(a)},a.prototype.__radd__=function(a){var b=f(a);return b.add(this)},a.prototype.subtract=function(a,b){var c=f(a,b);return this.add(c.negate())},a.prototype.minus=function(a,b){return this.subtract(a,b)},a.prototype.__sub__=function(a){return this.subtract(a)},a.prototype.__rsub__=function(a){var b=f(a);return b.subtract(this)},a.prototype.multiply=function(a,b){var c=f(a,b);return e(this.numer.times(c.numer),this.denom.times(c.denom))},a.prototype.times=function(a,b){return this.multiply(a,b)},a.prototype.__mul__=function(a){return this.multiply(a)},a.prototype.__rmul__=function(a){var b=f(a);return b.multiply(this)},a.prototype.divide=function(a,b){var c=f(a,b);return e(this.numer.times(c.denom),this.denom.times(c.numer))},a.prototype.__div__=function(a){return this.divide(a)},a.prototype.__rdiv__=function(a){var b=f(a);return b.divide(this)},a.prototype.inv=function(){return this.reciprocate()},a.prototype.over=function(a,b){return this.divide(a,b)},a.prototype.reciprocate=function(){return new a(this.denom,this.numer)},a.prototype.mod=function(a,b){var c=f(a,b);return this.minus(c.times(this.over(c).floor()))},a.prototype.pow=function(a){var b=c["default"](a),d=this.numer.pow(b),f=this.denom.pow(b);return e(d,f)},a.prototype.floor=function(b){var c,e=this.numer.divmod(this.denom);return c=e.remainder.isZero()||!e.quotient.sign?e.quotient:e.quotient.prev(),b?c:new a(c,d.one)},a.prototype.ceil=function(b){var c,e=this.numer.divmod(this.denom);return c=e.remainder.isZero()||e.quotient.sign?e.quotient:e.quotient.next(),b?c:new a(c,d.one)},a.prototype.round=function(a){return this.add(1,2).floor(a)},a.prototype.compareAbs=function(a,b){var c=f(a,b);return this.denom.equals(c.denom)?this.numer.compareAbs(c.numer):this.numer.times(c.denom).compareAbs(c.numer.times(this.denom))},a.prototype.compare=function(a,b){var c=f(a,b);if(this.denom.equals(c.denom))return this.numer.compare(c.numer);var d=this.denom.sign===c.denom.sign?1:-1;return d*this.numer.times(c.denom).compare(c.numer.times(this.denom))},a.prototype.compareTo=function(a,b){return this.compare(a,b)},a.prototype.equals=function(a,b){return 0===this.compare(a,b)},a.prototype.eq=function(a,b){return this.equals(a,b)},a.prototype.__eq__=function(a){return this.eq(a)},a.prototype.notEquals=function(a,b){return 0!==this.compare(a,b)},a.prototype.neq=function(a,b){return this.notEquals(a,b)},a.prototype.__ne__=function(a){return this.neq(a)},a.prototype.lesser=function(a,b){return this.compare(a,b)<0},a.prototype.lt=function(a,b){return this.lesser(a,b)},a.prototype.__lt__=function(a){return this.lt(a)},a.prototype.lesserOrEquals=function(a,b){return this.compare(a,b)<=0},a.prototype.leq=function(a,b){return this.lesserOrEquals(a,b)},a.prototype.__le__=function(a){return this.leq(a)},a.prototype.greater=function(a,b){return this.compare(a,b)>0},a.prototype.gt=function(a,b){return this.greater(a,b)},a.prototype.__gt__=function(a){return this.gt(a)},a.prototype.greaterOrEquals=function(a,b){return this.compare(a,b)>=0},a.prototype.geq=function(a,b){return this.greaterOrEquals(a,b)},a.prototype.__ge__=function(a){return this.geq(a)},a.prototype.abs=function(){return this.isPositive()?this:this.negate()},a.prototype.__pos__=function(){return this},a.prototype.__neg__=function(){return this.negate()},a.prototype.neg=function(){return this.negate()},a.prototype.negate=function(){return this.denom.sign?new a(this.numer,this.denom.negate()):new a(this.numer.negate(),this.denom)},a.prototype.isNegative=function(){return this.numer.sign!==this.denom.sign&&!this.numer.isZero()},a.prototype.isOne=function(){return this.numer.isUnit()&&this.denom.isUnit()},a.prototype.isPositive=function(){return this.numer.sign===this.denom.sign&&!this.numer.isZero()},a.prototype.isZero=function(){return this.numer.isZero()},a.prototype.__vbar__=function(a){return this.multiply(a)},a.prototype.__rvbar__=function(a){var b=f(a);return b.multiply(this)},a.prototype.__wedge__=function(a){return h(0)},a.prototype.__rwedge__=function(a){return h(0)},a.prototype.__lshift__=function(a){return this.__vbar__(a)},a.prototype.__rlshift__=function(a){return this.__vbar__(a)},a.prototype.__rshift__=function(a){return this.__vbar__(a)},a.prototype.__rrshift__=function(a){return this.__vbar__(a)},a.prototype.__bang__=function(){},a.prototype.__tilde__=function(){},a.prototype.toDecimal=function(a){void 0===a&&(a=10);var b=this.numer.divmod(this.denom),d=b.quotient.abs().toString(),e=h(b.remainder.abs(),this.denom),f=e.times(c["default"]("1e"+a)),g=f.numer.over(f.denom).toString();if(g.length<a&&(g=new Array(a-g.length+1).join("0")+g),f.numer.mod(f.denom).isZero())for(;"0"===g.slice(-1);)g=g.slice(0,-1);return this.isNegative()&&(d="-"+d),""===g?d:d+"."+g},a.prototype.toString=function(){return String(this.numer)+"/"+String(this.denom)},a.prototype.valueOf=function(){return this.numer.valueOf()/this.denom.valueOf()},a}();Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=h,b.zero=h(0),b.one=h(1),b.minusOne=h(-1)}),b("geocas/mother/bitCount",["require","exports"],function(a,b){"use strict";function c(a){return a-=a>>1&1431655765,a=(858993459&a)+(a>>2&858993459),a=a+(a>>4)&252645135,a+=a>>8,a+=a>>16,63&a}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("geocas/mother/canonicalReorderingSign",["require","exports","./bitCount"],function(a,b,c){"use strict";function d(a,b){a>>=1;for(var d=0;0!==a;)d+=c["default"](a&b),a>>=1;return 0===(1&d)?1:-1}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),b("geocas/checks/isUndefined",["require","exports"],function(a,b){"use strict";function c(a){return"undefined"==typeof a}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("geocas/mother/minusOnePow",["require","exports"],function(a,b){"use strict";function c(a){return 0===(1&a)?1:-1}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("geocas/mother/Blade",["require","exports","./bitCount","./canonicalReorderingSign","../checks/isUndefined","./minusOnePow"],function(a,b,c,d,e,f){"use strict";function g(a,b,i){var j={get bitmap(){return a},get weight(){return b},__neg__:function(){return g(a,i.neg(b),i)},__vbar__:function(c,d){return a!==c.bitmap?g(h,i.zero,i):g(h,i.mul(b,c.weight),i)},__wedge__:function(c){if(a&c.bitmap)return g(h,i.zero,i);var e=a^c.bitmap,f=d["default"](a,c.bitmap),j=i.mul(b,c.weight);return g(e,f>0?j:i.neg(j),i)},grade:function(){return c["default"](a)},reverse:function(){var c=j.grade(),d=f["default"](c*(c-1)/2);return g(a,d>0?b:i.neg(b),i)},gradeInversion:function(){var c=j.grade(),d=f["default"](c);return g(a,d>0?b:i.neg(b),i)},cliffordConjugate:function(){var c=j.grade(),d=f["default"](c*(c+1)/2);return g(a,d>0?b:i.neg(b),i)},zero:function(){return g(h,i.zero,i)},asString:function(c){for(var d="",f=1,g=a;0!==g;)0!==(1&g)&&(d.length>0&&(d+=" ^ "),e["default"](c)||null===c||f>c.length||null==c[f-1]?d=d+"e"+f:d+=c[f-1]),g>>=1,f++;return 0===d.length?i.asString(b):i.isOne(b)?d:i.asString(b)+" * "+d},toString:function(){return j.asString(void 0)}};return j}var h=0;Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=g}),b("geocas/checks/isNumber",["require","exports"],function(a,b){"use strict";function c(a){return"number"==typeof a}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("geocas/mother/Complex",["require","exports","../checks/isNumber"],function(a,b,c){"use strict";function d(a,b){var e={get x(){return a},get y(){return b;
},__abs__:function(){return d(Math.sqrt(a*a+b*b),0)},__add__:function(c){return d(a+c.x,b+c.y)},__sub__:function(c){return d(a-c.x,b-c.y)},__mul__:function(e){return c["default"](e)?d(a*e,b*e):d(a*e.x-b*e.y,b*e.x+a*e.y)},__div__:function(e){if(c["default"](e))return d(a/e,b/e);var f=e.x*e.x+e.y*e.y;return d((a*e.x+b*e.y)/f,(b*e.x-a*e.y)/f)},__neg__:function(){return d(-a,-b)},toString:function(){return"["+a+", "+b+"]"},__cos__:function(){throw new Error("TODO: cos")},__sin__:function(){throw new Error("TODO: sin")}};return e}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),b("geocas/mother/ComplexFieldAdapter",["require","exports","./Complex","../checks/isNumber"],function(a,b,c,d){"use strict";var e=function(){function a(){}return a.prototype.abs=function(a){return a.__abs__()},a.prototype.add=function(a,b){return a.__add__(b)},a.prototype.eq=function(a,b){return a.x===b.x&&a.y===b.y},a.prototype.ne=function(a,b){return a.x!==b.x||a.y!==b.y},a.prototype.le=function(a,b){return a.x<=b.x},a.prototype.lt=function(a,b){return a.x<b.x},a.prototype.ge=function(a,b){return a.x>=b.x},a.prototype.gt=function(a,b){return a.x>b.x},a.prototype.sub=function(a,b){return a.__sub__(b)},a.prototype.max=function(a,b){return a.x>=b.x?a:b},a.prototype.min=function(a,b){return a.x<=b.x?a:b},a.prototype.mul=function(a,b){return a.__mul__(b)},a.prototype.mulByNumber=function(a,b){return a.__mul__(b)},a.prototype.div=function(a,b){return a.__div__(b)},a.prototype.neg=function(a){return a.__neg__()},a.prototype.asString=function(a){return a.toString()},a.prototype.cos=function(a){return a.__cos__()},a.prototype.isField=function(a){return d["default"](a.x)&&d["default"](a.y)},a.prototype.isOne=function(a){return 1===a.x&&0===a.y},a.prototype.isZero=function(a){return 0===a.x&&0===a.y},Object.defineProperty(a.prototype,"one",{get:function(){return c["default"](1,0)},enumerable:!0,configurable:!0}),a.prototype.sin=function(a){return a.__sin__()},a.prototype.sqrt=function(a){if(0===a.x)throw 0===a.y?new Error("TODO: sqrt"+a.toString()):new Error("TODO: sqrt"+a.toString());if(0===a.y)return a.x>0?c["default"](Math.sqrt(a.x),0):c["default"](0,Math.sqrt(-a.x));throw new Error("TODO: sqrt"+a.toString())},Object.defineProperty(a.prototype,"zero",{get:function(){return c["default"](0,0)},enumerable:!0,configurable:!0}),a}();Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("geocas/mother/squaredNorm",["require","exports"],function(a,b){"use strict";function c(a){return a.scp(a.rev())}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("geocas/mother/norm",["require","exports","./squaredNorm"],function(a,b,c){"use strict";function d(a){return c["default"](a).sqrt()}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),b("geocas/mother/cosineOfAngleBetweenBlades",["require","exports","./norm"],function(a,b,c){"use strict";function d(a,b){var d=c["default"](a).scalarCoordinate(),e=c["default"](b).scalarCoordinate();return a.scp(b.rev()).divByScalar(d).divByScalar(e)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),b("geocas/mother/NumberFieldAdapter",["require","exports"],function(a,b){"use strict";var c=function(){function a(){}return a.prototype.abs=function(a){return Math.abs(a)},a.prototype.add=function(a,b){return a+b},a.prototype.eq=function(a,b){return a===b},a.prototype.ne=function(a,b){return a!==b},a.prototype.le=function(a,b){return a<=b},a.prototype.lt=function(a,b){return a<b},a.prototype.ge=function(a,b){return a>=b},a.prototype.gt=function(a,b){return a>b},a.prototype.sub=function(a,b){return a-b},a.prototype.max=function(a,b){return Math.max(a,b)},a.prototype.min=function(a,b){return Math.min(a,b)},a.prototype.mul=function(a,b){return a*b},a.prototype.mulByNumber=function(a,b){return a*b},a.prototype.div=function(a,b){return a/b},a.prototype.neg=function(a){return-a},a.prototype.asString=function(a){return a.toString()},a.prototype.cos=function(a){return Math.cos(a)},a.prototype.isField=function(a){return"number"==typeof a},a.prototype.isOne=function(a){return 1===a},a.prototype.isZero=function(a){return 0===a},Object.defineProperty(a.prototype,"one",{get:function(){return 1},enumerable:!0,configurable:!0}),a.prototype.sin=function(a){return Math.sin(a)},a.prototype.sqrt=function(a){return Math.sqrt(a)},Object.defineProperty(a.prototype,"zero",{get:function(){return 0},enumerable:!0,configurable:!0}),a}();Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("geocas/mother/orthoFramesToVersor",["require","exports","./cosineOfAngleBetweenBlades"],function(a,b,c){"use strict";function d(a,b,h,i){if(a.length>0){var j=g(a,b,i),k=a[j],l=b[j],m=k.sub(l),n=i.field,o=n.mulByNumber(n.one,1e-6),p=c["default"](k,l).sub(i.one).scalarCoordinate(),q=n.lt(n.abs(p),o);if(q)return d(f(a,j),f(b,j),h,i);var r=m.scp(m).scalarCoordinate(),s=e(h,m.divByScalar(i.field.sqrt(r)));return d(f(a,j).map(function(a){return m.mul(a.mul(m)).neg().divByScalar(r)}),f(b,j),s,i)}return h}function e(a,b){var c=[];c.push(b);for(var d=0;d<a.length;d++)c.push(a[d]);return c}function f(a,b){for(var c=[],d=0;d<a.length;d++)d!==b&&c.push(a[d]);return c}function g(a,b,c){for(var d=a.length,e=c.zero,f=0,g=0;g<d;g++){var h=a[g].sub(b[g]),i=h.scp(h.rev()).scalarCoordinate();c.field.gt(i,e.scalarCoordinate())&&(f=g)}return f}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),b("geocas/mother/gpE",["require","exports","./Blade","./canonicalReorderingSign"],function(a,b,c,d){"use strict";function e(a,b,e){var f=a.bitmap^b.bitmap,g=d["default"](a.bitmap,b.bitmap),h=e.mul(a.weight,b.weight);return g>0?c["default"](f,h,e):c["default"](f,e.neg(h),e)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("geocas/mother/gpL",["require","exports","./Blade","./gpE"],function(a,b,c,d){"use strict";function e(a,b,e,f){for(var g=d["default"](a,b,f),h=g.weight,i=a.bitmap&b.bitmap,j=0;0!==i;)0!==(1&i)&&(h=f.mulByNumber(h,e[j])),j++,i>>=1;return c["default"](g.bitmap,h,f)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("geocas/mother/bladesToArray",["require","exports"],function(a,b){"use strict";function c(a){for(var b=Object.keys(a),c=[],d=0;d<b.length;d++){var e=b[d],f=a[e];c.push(f)}return c}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("geocas/mother/simplify",["require","exports","./Blade","./bladesToArray"],function(a,b,c,d){"use strict";function e(a,b){for(var e={},f=0;f<a.length;f++){var g=a[f],h=e[g.bitmap];if(h){var i=b.add(h.weight,g.weight);b.isZero(i)?delete e[g.bitmap]:e[g.bitmap]=c["default"](g.bitmap,i,b)}else b.isZero(g.weight)||(e[g.bitmap]=g)}return d["default"](e)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("geocas/mother/gpG",["require","exports","./gpL","./simplify"],function(a,b,c,d){"use strict";function e(a,b,e,f){for(var g=e.toEigenBasis(a),h=e.toEigenBasis(b),i=e.getEigenMetric(),j=[],k=0;k<g.length;k++)for(var l=0;l<h.length;l++)j.push(c["default"](g[k],h[l],i,f));return e.toMetricBasis(d["default"](j,f))}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("geocas/mother/grade",["require","exports","./bitCount"],function(a,b,c){"use strict";function d(a){return c["default"](a)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),b("geocas/mother/lcoE",["require","exports","./gpE","./grade"],function(a,b,c,d){"use strict";function e(a,b,e){var f=a.grade(),g=b.grade();if(f>g)return a.zero();var h=a.bitmap^b.bitmap,i=d["default"](h);return i!==g-f?a.zero():c["default"](a,b,e)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("geocas/mother/lcoL",["require","exports","./gpL","./grade"],function(a,b,c,d){"use strict";function e(a,b,e,f){var g=a.grade(),h=b.grade();if(g>h)return a.zero();var i=a.bitmap^b.bitmap,j=d["default"](i);return j!==h-g?a.zero():c["default"](a,b,e,f)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("geocas/mother/lcoG",["require","exports","./gpG","./grade"],function(a,b,c,d){"use strict";function e(a,b,e,f){var g=a.grade(),h=b.grade();if(g>h)return[];var i=a.bitmap^b.bitmap,j=d["default"](i);return j!==h-g?[]:c["default"](a,b,e,f)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("geocas/mother/rcoE",["require","exports","./gpE","./grade"],function(a,b,c,d){"use strict";function e(a,b,e){var f=a.grade(),g=b.grade();if(f<g)return a.zero();var h=a.bitmap^b.bitmap,i=d["default"](h);return i!==f-g?a.zero():c["default"](a,b,e)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("geocas/mother/rcoL",["require","exports","./gpL","./grade"],function(a,b,c,d){"use strict";function e(a,b,e,f){var g=a.grade(),h=b.grade();if(g<h)return a.zero();var i=a.bitmap^b.bitmap,j=d["default"](i);return j!==g-h?a.zero():c["default"](a,b,e,f)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("geocas/mother/rcoG",["require","exports","./gpG","./grade"],function(a,b,c,d){"use strict";function e(a,b,e,f){var g=a.grade(),h=b.grade();if(g<h)return[];var i=a.bitmap^b.bitmap,j=d["default"](i);return j!==g-h?[]:c["default"](a,b,e,f)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e}),b("geocas/checks/isArray",["require","exports"],function(a,b){"use strict";function c(a){return"[object Array]"===Object.prototype.toString.call(a)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("geocas/checks/isDefined",["require","exports"],function(a,b){"use strict";function c(a){return"undefined"!=typeof a}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("geocas/checks/isString",["require","exports"],function(a,b){"use strict";function c(a){return"string"==typeof a}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("geocas/checks/mustSatisfy",["require","exports"],function(a,b){"use strict";function c(a,b,c,d){if(!b){var e=c?c():"satisfy some condition",f=d?" in "+d():"";throw new Error(a+" must "+e+f+".")}}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=c}),b("geocas/checks/mustBeDefined",["require","exports","../checks/mustSatisfy","../checks/isDefined"],function(a,b,c,d){"use strict";function e(){return"not be 'undefined'"}function f(a,b,f){return c["default"](a,d["default"](b),e,f),b}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=f}),b("geocas/checks/isInteger",["require","exports","../checks/isNumber"],function(a,b,c){"use strict";function d(a){return c["default"](a)&&a%1===0}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),b("geocas/checks/mustBeInteger",["require","exports","../checks/mustSatisfy","../checks/isInteger"],function(a,b,c,d){"use strict";function e(){return"be an integer"}function f(a,b,f){return c["default"](a,d["default"](b),e,f),b}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=f}),b("geocas/mother/Multivector",["require","exports","./Blade","./gpE","./gpL","./gpG","./lcoE","./lcoL","./lcoG","./rcoE","./rcoL","./rcoG","../checks/isArray","../checks/isDefined","../checks/isNumber","../checks/isString","../checks/isUndefined","../checks/mustBeDefined","../checks/mustBeInteger","../checks/mustSatisfy","./simplify"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){"use strict";function v(a){return!!a&&"function"==typeof a.extractGrade}function w(a){return"function"==typeof a.getEigenMetric}function x(a){if(o["default"](a))return a;if(m["default"](a))return a.length;if(q["default"](a))throw new Error("metric is undefined");if(w(a))return a.getEigenMetric().length;throw new Error("metric is undefined")}function y(a,b,d,e,f){if(e.isField(a)&&v(b)){var g=[];g.push(c["default"](0,a,e));for(var h=0;h<b.blades.length;h++)g.push(b.blades[h]);return E(u["default"](g,e),d,e,f)}if(v(a)&&e.isField(b)){var g=[];g.push(c["default"](0,b,e));for(var h=0;h<a.blades.length;h++)g.push(a.blades[h]);return E(u["default"](g,e),d,e,f)}if(v(a)&&v(b)){for(var g=[],i=0;i<a.blades.length;i++)g.push(a.blades[i]);for(var h=0;h<b.blades.length;h++)g.push(b.blades[h]);return E(u["default"](g,e),d,e,f)}}function z(a,b,d,e,f){if(e.isField(a)&&v(b)){var g=[];g.push(c["default"](0,a,e));for(var h=0;h<b.blades.length;h++)g.push(b.blades[h].__neg__());return E(u["default"](g,e),d,e,f)}if(v(a)&&e.isField(b)){var g=[];g.push(c["default"](0,e.neg(b),e));for(var h=0;h<a.blades.length;h++)g.push(a.blades[h]);return E(u["default"](g,e),d,e,f)}if(v(a)&&v(b)){for(var g=[],i=0;i<a.blades.length;i++)g.push(a.blades[i]);for(var h=0;h<b.blades.length;h++)g.push(b.blades[h].__neg__());return E(u["default"](g,e),d,e,f)}}function A(a,b,c,g,h){if(g.isField(a)&&v(b))return b.mulByScalar(a);if(v(a)&&g.isField(b))return a.mulByScalar(b);if(v(a)&&v(b)){for(var i=[],j=0;j<a.blades.length;j++)for(var k=a.blades[j],l=0;l<b.blades.length;l++){var n=b.blades[l];if(o["default"](c)){var p=d["default"](k,n,g);i.push(p)}else if(m["default"](c)){var p=e["default"](k,n,c,g);i.push(p)}else for(var p=f["default"](k,n,c,g),q=0;q<p.length;q++)i.push(p[q])}return E(u["default"](i,g),c,g,h)}}function B(a,b,c,d){if(d.isField(a)&&v(b))throw new Error("Multivector division is not yet supported.");if(v(a)&&d.isField(b))return a.divByScalar(b);if(v(a)&&v(b))throw new Error("Multivector division is not yet supported.")}function C(a,b,d,e){s["default"]("index",a),r["default"]("metric",b),r["default"]("field",d);var f=c["default"](1<<a,d.one,d);return E([f],b,d,e)}function D(a,b,d,e){r["default"]("metric",b),r["default"]("adapter",d),t["default"]("weight",d.isField(a),function(){return"be a field value"});var f=c["default"](0,a,d);return E([f],b,d,e)}function E(a,b,d,e){if(!m["default"](a))throw new Error("blades must be Blade<T>[]");if(q["default"](b))throw new Error("metric must be defined");if(q["default"](d))throw new Error("adapter must be defined");var f=function(c){for(var f=[],g=0;g<a.length;g++){var h=a[g];h.grade()===c&&f.push(h)}return E(f,b,d,e)},n={get blades(){return a},add:function(a){return y(n,a,b,d,e)},__add__:function(a){return y(n,a,b,d,e)},__radd__:function(a){return y(a,n,b,d,e)},sub:function(a){return z(n,a,b,d,e)},__sub__:function(a){return z(n,a,b,d,e)},__rsub__:function(a){return z(a,n,b,d,e)},inv:function(){var a=n.rev(),b=n.mul(a);if(1===b.blades.length&&0===b.blades[0].bitmap)return a.divByScalar(b.scalarCoordinate());throw new Error("non-invertible multivector (versor inverse) "+n)},isZero:function(){return 0===a.length},mul:function(a){return A(n,a,b,d,e)},mulByScalar:function(f){for(var g=[],h=0;h<a.length;h++){var i=a[h],j=d.mul(i.weight,f);d.isZero(j)||g.push(c["default"](i.bitmap,j,d))}return E(g,b,d,e)},__mul__:function(a){return A(n,a,b,d,e)},__rmul__:function(a){return A(a,n,b,d,e)},__div__:function(a){return B(n,a,b,d)},__lshift__:function(c){for(var f=[],j=0;j<a.length;j++)for(var k=a[j],l=0;l<c.blades.length;l++){var n=c.blades[l];if(o["default"](b)){var p=g["default"](k,n,d);f.push(p)}else if(m["default"](b)){var p=h["default"](k,n,b,d);f.push(p)}else for(var p=i["default"](k,n,b,d),q=0;q<p.length;q++)f.push(p[q])}return E(u["default"](f,d),b,d,e)},__rshift__:function(c){for(var f=[],g=0;g<a.length;g++)for(var h=a[g],i=0;i<c.blades.length;i++){var n=c.blades[i];if(o["default"](b)){var p=j["default"](h,n,d);f.push(p)}else if(m["default"](b)){var p=k["default"](h,n,b,d);f.push(p)}else for(var p=l["default"](h,n,b,d),q=0;q<p.length;q++)f.push(p[q])}return E(u["default"](f,d),b,d,e)},__vbar__:function(a){return n.__mul__(a).extractGrade(0)},__wedge__:function(c){for(var f=[],g=0;g<a.length;g++)for(var h=a[g],i=0;i<c.blades.length;i++){var j=c.blades[i],k=h.__wedge__(j);f.push(k)}return E(u["default"](f,d),b,d,e)},__bang__:function(){return n.inv()},__pos__:function(){return n},neg:function(){for(var c=[],f=0;f<a.length;f++){var g=a[f];c.push(g.__neg__())}return E(c,b,d,e)},__neg__:function(){for(var c=[],f=0;f<a.length;f++){var g=a[f];c.push(g.__neg__())}return E(c,b,d,e)},__tilde__:function(){return n.rev()},cliffordConjugate:function(){for(var c=[],f=0;f<a.length;f++){var g=a[f];c.push(g.cliffordConjugate())}return E(c,b,d,e)},compress:function(c){void 0===c&&(c=1e-12);for(var f=d.mulByNumber(d.one,c),g=d.zero,h=0;h<a.length;h++){var i=a[h];g=d.max(g,d.abs(i.weight))}for(var j=d.mul(g,f),k=[],h=0;h<a.length;h++){var i=a[h];d.ge(d.abs(i.weight),j)&&k.push(i)}return E(k,b,d,e)},direction:function(){var a=n.scp(n.rev()).scalarCoordinate(),b=d.sqrt(a);return d.isZero(b)?n:n.divByScalar(b)},exp:function(){var a=f(2),g=a.rev(),h=d.sqrt(a.__vbar__(g).scalarCoordinate()),i=a.divByScalar(h),j=E([c["default"](0,d.cos(h),d)],b,d,e),k=E([c["default"](0,d.sin(h),d)],b,d,e);return j.__add__(i.__mul__(k))},extractGrade:f,div:function(a){return n.mul(a.inv())},divByScalar:function(f){for(var g=[],h=0;h<a.length;h++){var i=a[h],j=d.div(i.weight,f);d.isZero(j)||g.push(c["default"](i.bitmap,j,d))}return E(g,b,d,e)},dual:function(){var a=x(b),f=E([c["default"]((1<<a)-1,d.one,d)],b,d,e);return n.__lshift__(f)},gradeInversion:function(){for(var c=[],f=0;f<a.length;f++){var g=a[f];c.push(g.gradeInversion())}return E(c,b,d,e)},rev:function(){for(var c=[],f=0;f<a.length;f++){var g=a[f];c.push(g.reverse())}return E(c,b,d,e)},scalarCoordinate:function(){for(var b=0;b<a.length;b++){var c=a[b];if(0===c.bitmap)return c.weight}return d.zero},scp:function(a){return n.__vbar__(a)},sqrt:function(){for(var f=[],g=0;g<a.length;g++){var h=a[g];if(0!==h.bitmap)throw new Error("sqrt on arbitrary multivectors is not yet supported.");f.push(c["default"](h.bitmap,d.sqrt(h.weight),d))}return E(f,b,d,e)},asString:function(c){if(F("names",c,x(b)),0===a.length)return"0";for(var d="",e=0;e<a.length;e++){var f=a[e],g=f.asString(c);0===e?d+=g:"-"===g.charAt(0)?(d+=" - ",d+=g.substring(1)):(d+=" + ",d+=g)}return d},toString:function(){return n.asString(e)}};return n}function F(a,b,c){if(n["default"](b)){if(!m["default"](b))throw new Error(a+" must be a string[]");if(b.length!==c)throw new Error(a+".length must match the dimensionality of the vector space.");for(var d=0;d<b.length;d++){var e=b[d];if(!p["default"](e))throw new Error(a+"["+d+"] must be a string.")}}}function G(a,b,c){r["default"]("metric",a);var d=x(a);r["default"]("field",b),F("labels",c,d);for(var e=D(b.one,a,b,c),f=D(b.zero,a,b,c),g=[],h=0;h<d;h++)g[h]=C(h,a,b,c);var i={get field(){return b},get one(){return e},get zero(){return f},unit:function(a){if(s["default"]("index",a),a>=0&&a<d)return g[a];throw new Error("index must be in range [0 ... "+(d-1)+")")},get units(){return g.map(function(a){return a})}};return i}b.algebra=G}),b("geocas/config",["require","exports"],function(a,b){"use strict";var c=function(){function a(){this.GITHUB="https://github.com/geometryzen/GeoCAS",this.LAST_MODIFIED="2016-09-23",this.NAMESPACE="GeoCAS",this.VERSION="1.9.0"}return a.prototype.log=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.log(a)},a.prototype.info=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.info(a)},a.prototype.warn=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.warn(a)},a.prototype.error=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.error(a)},a}(),d=new c;Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),b("geocas",["require","exports","./geocas/math/BigInteger","./geocas/math/BigRational","./geocas/mother/Blade","./geocas/mother/Complex","./geocas/mother/ComplexFieldAdapter","./geocas/mother/cosineOfAngleBetweenBlades","./geocas/mother/norm","./geocas/mother/NumberFieldAdapter","./geocas/mother/orthoFramesToVersor","./geocas/mother/Multivector","./geocas/config","./geocas/mother/squaredNorm"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o={get LAST_MODIFIED(){return m["default"].LAST_MODIFIED},get VERSION(){return m["default"].VERSION},get bigInt(){return c["default"]},get bigRat(){return d["default"]},get blade(){return e["default"]},get complex(){return f["default"]},get ComplexFieldAdapter(){return g["default"]},get cosineOfAngleBetweenBlades(){return h["default"]},get norm(){return i["default"]},get NumberFieldAdapter(){return j["default"]},get orthoFramesToVersor(){return k["default"]},get algebra(){return l.algebra},get squaredNorm(){return n["default"]}};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=o});var g=d("geocas")["default"];"undefined"!=typeof module&&module.exports?module.exports=g:e?!function(a){a(function(){return g})}(e):a.GeoCAS=g}(this);