/*! geocas 2016-07-29 */
!function(a,b){var c,d,b,e=a.define;!function(a){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b&&b.split("/"),p=s.map,q=p&&p["*"]||{};if(a){for(a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),"."===a[0].charAt(0)&&o&&(n=o.slice(0,o.length-1),a=n.concat(a)),k=0;k<a.length;k++)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(0===k||1===k&&".."===a[2]||".."===a[k-1])continue;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}if((o||q)&&p){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),o)for(l=o.length;l>0;l-=1)if(e=p[o.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(b,c){return function(){var d=v.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),n.apply(a,d.concat([b,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(b){if(e(r,b)){var c=r[b];delete r[b],t[b]=!0,m.apply(a,c)}if(!e(q,b)&&!e(t,b))throw new Error("No "+b);return q[b]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(b,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||b,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if(m=o(c[n],f),k=m.f,"require"===k)u[n]=p.require(b);else if("exports"===k)u[n]=p.exports(b),s=!0;else if("module"===k)h=u[n]=p.module(b);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(b+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[b],u):void 0,b&&(h&&h.exports!==a&&h.exports!==q[b]?q[b]=h.exports:l===a&&s||(q[b]=l))}else b&&(q[b]=d)},c=d=n=function(b,c,d,e,f){if("string"==typeof b)return p[b]?p[b](c):j(o(b,c).f);if(!b.splice){if(s=b,s.deps&&n(s.deps,s.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(a,b,c,d):setTimeout(function(){m(a,b,c,d)},4),n},n.config=function(a){return n(a)},c._defined=q,b=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},b.amd={jQuery:!0}}(),b("../bower_components/almond/almond",function(){});var f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b("geocas/math/Algebra",["require","exports"],function(a,b){"use strict";var c=function(a,b){for(var c=[],d=a.length,e=b.length,f=0;f<d;f++){var g=a[f];if(!(b.indexOf(g)<0))return null;c.push(g)}for(var f=0;f<e;f++)c.push(b[f]);return c},d=function(){function a(a,b){this.env=a,this.type=b}return a.prototype.isChanged=function(){throw new Error(this.type+".isChanged is not implemented.")},a.prototype.copy=function(a){throw new Error(this.type+".copy is not implemented.")},a.prototype.reset=function(){throw new Error(this.type+".reset is not implemented.")},a.prototype.simplify=function(){throw new Error(this.type+".simplify is not implemented.")},a.prototype.toPrefix=function(){throw new Error(this.type+".toPrefix is not implemented.")},a.prototype.toString=function(){throw new Error(this.type+".toString is not implemented.")},a.prototype.__add__=function(b){return b instanceof a?new g(this,b):"number"==typeof b?new g(this,new n(this.env,b)):void 0},a.prototype.__radd__=function(b){return b instanceof a?new g(b,this):"number"==typeof b?new g(new n(this.env,b),this):void 0},a.prototype.__sub__=function(b){return b instanceof a?new h(this,b):"number"==typeof b?new h(this,new n(this.env,b)):void 0},a.prototype.__rsub__=function(b){return b instanceof a?new h(b,this):"number"==typeof b?new h(new n(this.env,b),this):void 0},a.prototype.__mul__=function(b){return b instanceof a?new i(this,b):"number"==typeof b?new i(this,new n(this.env,b)):void 0},a.prototype.__rmul__=function(b){return b instanceof a?new i(b,this):"number"==typeof b?new i(new n(this.env,b),this):void 0},a.prototype.__div__=function(b){return b instanceof a?new j(this,b):"number"==typeof b?new j(this,new n(this.env,b)):void 0},a.prototype.__rdiv__=function(b){return b instanceof a?new j(b,this):"number"==typeof b?new j(new n(this.env,b),this):void 0},a.prototype.__vbar__=function(b){return b instanceof a?new o(this,b):"number"==typeof b?new o(this,new n(this.env,b)):void 0},a.prototype.__rvbar__=function(b){return b instanceof a?new o(b,this):"number"==typeof b?new o(new n(this.env,b),this):void 0},a.prototype.__lshift__=function(b){return b instanceof a?new k(this,b):"number"==typeof b?new k(this,new n(this.env,b)):void 0},a.prototype.__rlshift__=function(b){return b instanceof a?new k(b,this):"number"==typeof b?new k(new n(this.env,b),this):void 0},a.prototype.__rshift__=function(b){return b instanceof a?new l(this,b):"number"==typeof b?new l(this,new n(this.env,b)):void 0},a.prototype.__rrshift__=function(b){return b instanceof a?new l(b,this):"number"==typeof b?new l(new n(this.env,b),this):void 0},a.prototype.__wedge__=function(b){return b instanceof a?new p(this,b):"number"==typeof b?new p(this,new n(this.env,b)):void 0},a.prototype.__rwedge__=function(b){return b instanceof a?new p(b,this):"number"==typeof b?new p(new n(this.env,b),this):void 0},a.prototype.__tilde__=function(){return new q(this)},a.prototype.__bang__=function(){return new r(this)},a.prototype.__neg__=function(){return new s(this)},a.prototype.__pos__=function(){return new t(this)},a}();b.Expr=d;var e=function(a){function b(b,c,e){if(a.call(this,b.env,e),this.lhs=b,this.rhs=c,!(b instanceof d))throw new Error(e+".lhs must be an Expr: "+typeof b);if(!(c instanceof d))throw new Error(e+".rhs must be an Expr: "+typeof c)}return f(b,a),b}(d);b.BinaryExpr=e;var g=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"AddExpr"),this.dirty=d}return f(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();if(c instanceof n&&"number"==typeof c.value&&0===c.value)return a.copy(!0);if(a instanceof i&&c instanceof i){if(a.lhs instanceof n&&c.lhs instanceof n&&a.rhs===c.rhs){var d=a.lhs,e=c.lhs;if("number"==typeof d.value&&"number"==typeof e.value){var f=new n(this.env,d.value+e.value);return new i(f,a.rhs,(!0))}return new b(a,c)}return new b(a,c)}return a instanceof n&&c instanceof n&&"number"==typeof a.value&&"number"==typeof c.value?new n(this.env,a.value+c.value,(!0)):new b(a,c)},b.prototype.toPrefix=function(){return"add("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" + "+this.rhs},b}(e);b.AddExpr=g;var h=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"SubExpr"),this.dirty=d}return f(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();return new b(a,c)},b.prototype.toPrefix=function(){return"sub("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" - "+this.rhs},b}(e);b.SubExpr=h;var i=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"MultiplyExpr"),this.dirty=d}return f(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();if(a instanceof b){var d=a.lhs,e=a.rhs;return d instanceof n?new b(d,new b(e,c),(!0)):new b(a,c)}if(c instanceof b){var f=c.lhs,g=c.rhs;return f instanceof n?new b(f,new b(a,g),(!0)):new b(a,c)}if(a instanceof n)return"number"==typeof a.value&&0===a.value?a.copy(!0):"number"==typeof a.value&&1===a.value?c.copy(!0):c instanceof n?"number"==typeof a.value&&1===a.value?c:"number"==typeof a.value&&"number"==typeof c.value?new n(this.env,a.value*c.value,(!0)):"number"!=typeof a.value&&"number"==typeof c.value?new b(c,a,(!0)):new b(a,c):new b(a,c);if(a instanceof m){if(c instanceof b){var f=c.lhs,g=c.rhs;return f instanceof m&&a.vectors[0]===f.vectors[0]?new b(new b(a,f),g,(!0)):new b(a,c)}return c instanceof m?a===c?new o(a,c,(!0)):new b(a,c):c instanceof n?new b(c,a,(!0)):new b(a,c)}return new b(a,c)},b.prototype.toPrefix=function(){return"mul("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" * "+this.rhs},b}(e);b.MultiplyExpr=i;var j=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"SubExpr"),this.dirty=d}return f(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();return new b(a,c)},b.prototype.toPrefix=function(){return"div("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" / "+this.rhs},b}(e);b.DivideExpr=j;var k=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"LContractExpr"),this.dirty=d}return f(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();return new b(a,c)},b.prototype.toPrefix=function(){return"lco("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" << "+this.rhs},b}(e);b.LContractExpr=k;var l=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"RContractExpr"),this.dirty=d}return f(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();return new b(a,c)},b.prototype.toPrefix=function(){return"rco("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" >> "+this.rhs},b}(e);b.RContractExpr=l;var m=function(a){function b(b,c,d){if(void 0===d&&(d=!1),a.call(this,b,"BasisBladeExpr"),this.vectors=c,this.dirty=d,!Array.isArray(c))throw new Error("vectors must be a number[]")}return f(b,a),b.prototype.isChanged=function(){return this.dirty},b.prototype.copy=function(a){return new b(this.env,this.vectors,a)},b.prototype.reset=function(){return this.dirty?new b(this.env,this.vectors,(!1)):this},b.prototype.simplify=function(){return this},b.prototype.toPrefix=function(){return this.env.bladeName(this.vectors)},b.prototype.toString=function(){return this.env.bladeName(this.vectors)},b}(d);b.BasisBladeExpr=m;var n=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,"ScalarExpr"),this.value=c,this.dirty=d}return f(b,a),b.prototype.isChanged=function(){return!1},b.prototype.copy=function(a){return new b(this.env,this.value,a)},b.prototype.reset=function(){return this.dirty?new b(this.env,this.value,(!1)):this},b.prototype.simplify=function(){return this},b.prototype.toPrefix=function(){return""+this.value},b.prototype.toPrefixLong=function(){return"ScalarExpr('"+this.value+"')"},b.prototype.toString=function(){return""+this.value},b}(d);b.ScalarExpr=n;var o=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"VBarExpr"),this.dirty=d}return f(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();if(a instanceof m&&c instanceof m)return this.env.g(a,c);if(a instanceof g&&c instanceof m){var e=a.lhs,f=a.rhs;return new g(new b(e,c),new b(f,c),(!0))}if(a instanceof m&&c instanceof g){var h=c.lhs,j=c.rhs;return new g(new b(a,h),new b(a,j),(!0))}if(a instanceof i&&c instanceof d){var e=a.lhs,f=a.rhs;return e instanceof n&&f instanceof m?new i(e,new b(f,c),(!0)):new b(a,c)}if(a instanceof m&&c instanceof i){var h=c.lhs,j=c.rhs;return h instanceof n&&j instanceof m?new i(h,new b(a,j),(!0)):new b(a,c)}return new b(a,c)},b.prototype.toPrefix=function(){return"scp("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" | "+this.rhs},b}(e);b.VBarExpr=o;var p=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"WedgeExpr"),this.dirty=d}return f(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),d=this.rhs.simplify();if(a instanceof n)return d instanceof n?new n(this.env,0,(!0)):"number"==typeof a.value&&1===a.value?d.copy(!0):new b(a,d);if(d instanceof n)return a instanceof n?new n(this.env,0,(!0)):"number"==typeof d.value&&1===d.value&&a instanceof m?a.copy(!0):new b(a,d);if(a instanceof m&&d instanceof m){var e=c(a.vectors,d.vectors);return Array.isArray(e)?new m(this.env,e,(!0)):new n(this.env,0,(!0))}return a instanceof m&&d instanceof m?a===d?new n(this.env,0,(!0)):new g(new i(a,d),new i(new n(this.env,(-1)),new o(a,d)),(!0)):new b(a,d)},b.prototype.toPrefix=function(){return"ext("+this.lhs+", "+this.rhs+")"},b.prototype.toString=function(){return this.lhs+" ^ "+this.rhs},b}(e);b.WedgeExpr=p;var q=function(a){function b(b,c){void 0===c&&(c=!1),a.call(this,b.env,"ReverseExpr"),this.inner=b,this.dirty=c}return f(b,a),b.prototype.isChanged=function(){return this.dirty||this.inner.isChanged()},b.prototype.copy=function(a){return new b(this.inner,a)},b.prototype.reset=function(){return new b(this.inner.reset(),(!1))},b.prototype.simplify=function(){return new b(this.inner.simplify())},b.prototype.toPrefix=function(){return"reverse("+this.inner+")"},b.prototype.toString=function(){return"~"+this.inner},b}(d);b.ReverseExpr=q;var r=function(a){function b(b,c){void 0===c&&(c=!1),a.call(this,b.env,"InverseExpr"),this.inner=b,this.dirty=c}return f(b,a),b.prototype.isChanged=function(){return this.dirty||this.inner.isChanged()},b.prototype.copy=function(a){return new b(this.inner,a)},b.prototype.reset=function(){return new b(this.inner.reset(),(!1))},b.prototype.simplify=function(){return new b(this.inner.simplify())},b.prototype.toPrefix=function(){return"inverse("+this.inner+")"},b.prototype.toString=function(){return"!"+this.inner},b}(d);b.InverseExpr=r;var s=function(a){function b(b,c){void 0===c&&(c=!1),a.call(this,b.env,"NegExpr"),this.inner=b,this.dirty=c}return f(b,a),b.prototype.isChanged=function(){return this.dirty||this.inner.isChanged()},b.prototype.copy=function(a){return new b(this.inner,a)},b.prototype.reset=function(){return new b(this.inner.reset(),(!1))},b.prototype.simplify=function(){return new b(this.inner.simplify())},b.prototype.toPrefix=function(){return"neg("+this.inner+")"},b.prototype.toString=function(){return"-"+this.inner},b}(d);b.NegExpr=s;var t=function(a){function b(b,c){void 0===c&&(c=!1),a.call(this,b.env,"PosExpr"),this.inner=b,this.dirty=c}return f(b,a),b.prototype.isChanged=function(){return this.dirty||this.inner.isChanged()},b.prototype.copy=function(a){return new b(this.inner,a)},b.prototype.reset=function(){return new b(this.inner.reset(),(!1))},b.prototype.simplify=function(){return new b(this.inner.simplify())},b.prototype.toPrefix=function(){return"pos("+this.inner+")"},b.prototype.toString=function(){return"+"+this.inner},b}(d);b.PosExpr=t;var u=function(){function a(a,b){this.basis=[],this._bnames=[],this._metric=a,this.basis.push(new m(this,[])),this._bnames[0]="1";for(var c=0;c<this._metric.length;c++)for(var d=new m(this,[c]),e=this.basis.length,f=0;f<e;f++){var g=this.basis[f],h=new p(g,d),i=this.simplify(h);if(!(i instanceof m))throw new Error(h+" must simplify to a BasisBladeExpr");this.basis.push(i)}}return a.prototype.bladeName=function(a){var b=this;return a.length>0?a.map(function(a){if(b._bnames){var c=Math.pow(2,a);if(b._bnames[c])return b._bnames[c]}return"e"+(a+1)}).join(" ^ "):this._bnames[0]},a.prototype.g=function(a,b){var c=a.vectors[0],d=b.vectors[0];return new n(this,this._metric[c][d])},a.prototype.scalar=function(a){return new n(this,a)},a.prototype.simplify=function(a){var b=0;if(a instanceof d){for(a=a.reset(),a=a.simplify();a.isChanged();)a=a.reset(),b++,b<100&&(a=a.simplify());return a}throw new Error("expr must be an Expr")},a}();Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=u}),b("geocas/config",["require","exports"],function(a,b){"use strict";var c=function(){function a(){this.GITHUB="https://github.com/geometryzen/GeoCAS",this.LAST_MODIFIED="2016-07-20",this.NAMESPACE="GeoCAS",this.VERSION="1.0.0"}return a.prototype.log=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.log(a)},a.prototype.info=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.info(a)},a.prototype.warn=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.warn(a)},a.prototype.error=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.error(a)},a}(),d=new c;Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d}),b("geocas",["require","exports","./geocas/math/Algebra","./geocas/config"],function(a,b,c,d){"use strict";var e={get LAST_MODIFIED(){return d["default"].LAST_MODIFIED},get VERSION(){return d["default"].VERSION},get Algebra(){return c["default"]}};Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e});var g=d("geocas")["default"];"undefined"!=typeof module&&module.exports?module.exports=g:e?!function(a){a(function(){return g})}(e):a.GeoCAS=g}(this);