/*! geocas 2016-09-19 */
System.register("geocas/math/Algebra.js",[],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=(b&&b.id,this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});return{setters:[],execute:function(){c=function(a,b){for(var c=[],d=a.length,e=b.length,f=0;f<d;f++){var g=a[f];if(!(b.indexOf(g)<0))return null;c.push(g)}for(var f=0;f<e;f++)c.push(b[f]);return c},d=function(){function a(a,b){this.env=a,this.type=b}return a.prototype.isChanged=function(){throw new Error(this.type+".isChanged is not implemented.")},a.prototype.copy=function(a){throw new Error(this.type+".copy is not implemented.")},a.prototype.reset=function(){throw new Error(this.type+".reset is not implemented.")},a.prototype.simplify=function(){throw new Error(this.type+".simplify is not implemented.")},a.prototype.toPrefix=function(){throw new Error(this.type+".toPrefix is not implemented.")},a.prototype.toString=function(){throw new Error(this.type+".toString is not implemented.")},a.prototype.__add__=function(b){return b instanceof a?new f(this,b):"number"==typeof b?new f(this,new m(this.env,b)):void 0},a.prototype.__radd__=function(b){return b instanceof a?new f(b,this):"number"==typeof b?new f(new m(this.env,b),this):void 0},a.prototype.__sub__=function(b){return b instanceof a?new g(this,b):"number"==typeof b?new g(this,new m(this.env,b)):void 0},a.prototype.__rsub__=function(b){return b instanceof a?new g(b,this):"number"==typeof b?new g(new m(this.env,b),this):void 0},a.prototype.__mul__=function(b){return b instanceof a?new h(this,b):"number"==typeof b?new h(this,new m(this.env,b)):void 0},a.prototype.__rmul__=function(b){return b instanceof a?new h(b,this):"number"==typeof b?new h(new m(this.env,b),this):void 0},a.prototype.__div__=function(b){return b instanceof a?new i(this,b):"number"==typeof b?new i(this,new m(this.env,b)):void 0},a.prototype.__rdiv__=function(b){return b instanceof a?new i(b,this):"number"==typeof b?new i(new m(this.env,b),this):void 0},a.prototype.__vbar__=function(b){return b instanceof a?new n(this,b):"number"==typeof b?new n(this,new m(this.env,b)):void 0},a.prototype.__rvbar__=function(b){return b instanceof a?new n(b,this):"number"==typeof b?new n(new m(this.env,b),this):void 0},a.prototype.__lshift__=function(b){return b instanceof a?new j(this,b):"number"==typeof b?new j(this,new m(this.env,b)):void 0},a.prototype.__rlshift__=function(b){return b instanceof a?new j(b,this):"number"==typeof b?new j(new m(this.env,b),this):void 0},a.prototype.__rshift__=function(b){return b instanceof a?new k(this,b):"number"==typeof b?new k(this,new m(this.env,b)):void 0},a.prototype.__rrshift__=function(b){return b instanceof a?new k(b,this):"number"==typeof b?new k(new m(this.env,b),this):void 0},a.prototype.__wedge__=function(b){return b instanceof a?new o(this,b):"number"==typeof b?new o(this,new m(this.env,b)):void 0},a.prototype.__rwedge__=function(b){return b instanceof a?new o(b,this):"number"==typeof b?new o(new m(this.env,b),this):void 0},a.prototype.__tilde__=function(){return new p(this)},a.prototype.__bang__=function(){return new q(this)},a.prototype.__neg__=function(){return new r(this)},a.prototype.__pos__=function(){return new s(this)},a}(),a("Expr",d),e=function(a){function b(b,c,e){if(a.call(this,b.env,e),this.lhs=b,this.rhs=c,!(b instanceof d))throw new Error(e+".lhs must be an Expr: "+typeof b);if(!(c instanceof d))throw new Error(e+".rhs must be an Expr: "+typeof c)}return u(b,a),b}(d),a("BinaryExpr",e),f=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"AddExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();if(c instanceof m&&"number"==typeof c.value&&0===c.value)return a.copy(!0);if(a instanceof h&&c instanceof h){if(a.lhs instanceof m&&c.lhs instanceof m&&a.rhs===c.rhs){var d=a.lhs,e=c.lhs;if("number"==typeof d.value&&"number"==typeof e.value){var f=new m(this.env,d.value+e.value);return new h(f,a.rhs,(!0))}return new b(a,c)}return new b(a,c)}return a instanceof m&&c instanceof m&&"number"==typeof a.value&&"number"==typeof c.value?new m(this.env,a.value+c.value,(!0)):new b(a,c)},b.prototype.toPrefix=function(){return"add("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" + "+this.rhs},b}(e),a("AddExpr",f),g=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"SubExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();return new b(a,c)},b.prototype.toPrefix=function(){return"sub("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" - "+this.rhs},b}(e),a("SubExpr",g),h=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"MultiplyExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();if(!(a instanceof m)&&c instanceof m)return new b(c,a,(!0));if(a instanceof b){var d=a.lhs,e=a.rhs;return d instanceof m?new b(d,new b(e,c),(!0)):new b(a,c)}if(c instanceof b){var f=c.lhs,g=c.rhs;return f instanceof m?new b(f,new b(a,g),(!0)):new b(a,c)}if(a instanceof m)return"number"==typeof a.value&&0===a.value?a.copy(!0):"number"==typeof a.value&&1===a.value?c.copy(!0):c instanceof m?"number"==typeof a.value&&1===a.value?c:"number"==typeof a.value&&"number"==typeof c.value?new m(this.env,a.value*c.value,(!0)):"number"!=typeof a.value&&"number"==typeof c.value?new b(c,a,(!0)):new b(a,c):new b(a,c);if(a instanceof l){if(c instanceof b){var f=c.lhs,g=c.rhs;return f instanceof l&&a.vectors[0]===f.vectors[0]?new b(new b(a,f),g,(!0)):new b(a,c)}return c instanceof l?a===c?new n(a,c,(!0)):new b(a,c):c instanceof m?new b(c,a,(!0)):new b(a,c)}return new b(a,c)},b.prototype.toPrefix=function(){return"mul("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" * "+this.rhs},b}(e),a("MultiplyExpr",h),i=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"SubExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();return new b(a,c)},b.prototype.toPrefix=function(){return"div("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" / "+this.rhs},b}(e),a("DivideExpr",i),j=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"LContractExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();return new b(a,c)},b.prototype.toPrefix=function(){return"lco("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" << "+this.rhs},b}(e),a("LContractExpr",j),k=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"RContractExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();return new b(a,c)},b.prototype.toPrefix=function(){return"rco("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" >> "+this.rhs},b}(e),a("RContractExpr",k),l=function(a){function b(b,c,d){if(void 0===d&&(d=!1),a.call(this,b,"BasisBladeExpr"),this.vectors=c,this.dirty=d,!Array.isArray(c))throw new Error("vectors must be a number[]")}return u(b,a),b.prototype.isChanged=function(){return this.dirty},b.prototype.copy=function(a){return new b(this.env,this.vectors,a)},b.prototype.reset=function(){return this.dirty?new b(this.env,this.vectors,(!1)):this},b.prototype.simplify=function(){return this},b.prototype.toPrefix=function(){return this.env.bladeName(this.vectors)},b.prototype.toString=function(){return this.env.bladeName(this.vectors)},b}(d),a("BasisBladeExpr",l),m=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,"ScalarExpr"),this.value=c,this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return!1},b.prototype.copy=function(a){return new b(this.env,this.value,a)},b.prototype.reset=function(){return this.dirty?new b(this.env,this.value,(!1)):this},b.prototype.simplify=function(){return this},b.prototype.toPrefix=function(){return""+this.value},b.prototype.toPrefixLong=function(){return"ScalarExpr('"+this.value+"')"},b.prototype.toString=function(){return""+this.value},b}(d),a("ScalarExpr",m),n=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"VBarExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();if(a instanceof l&&c instanceof l)return this.env.g(a,c);if(a instanceof f&&c instanceof l){var e=a.lhs,g=a.rhs;return new f(new b(e,c),new b(g,c),(!0))}if(a instanceof l&&c instanceof f){var i=c.lhs,j=c.rhs;return new f(new b(a,i),new b(a,j),(!0))}if(a instanceof h&&c instanceof d){var e=a.lhs,g=a.rhs;return e instanceof m&&g instanceof l?new h(e,new b(g,c),(!0)):new b(a,c)}if(a instanceof l&&c instanceof h){var i=c.lhs,j=c.rhs;return i instanceof m&&j instanceof l?new h(i,new b(a,j),(!0)):new b(a,c)}return new b(a,c)},b.prototype.toPrefix=function(){return"scp("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" | "+this.rhs},b}(e),a("VBarExpr",n),o=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"WedgeExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),d=this.rhs.simplify();if(a instanceof m)return d instanceof m?new m(this.env,0,(!0)):"number"==typeof a.value&&1===a.value?d.copy(!0):new b(a,d);if(d instanceof m)return a instanceof m?new m(this.env,0,(!0)):"number"==typeof d.value&&1===d.value&&a instanceof l?a.copy(!0):new b(a,d);if(a instanceof l&&d instanceof l){var e=c(a.vectors,d.vectors);return Array.isArray(e)?new l(this.env,e,(!0)):new m(this.env,0,(!0))}return a instanceof l&&d instanceof l?a===d?new m(this.env,0,(!0)):new f(new h(a,d),new h(new m(this.env,(-1)),new n(a,d)),(!0)):new b(a,d)},b.prototype.toPrefix=function(){return"ext("+this.lhs+", "+this.rhs+")"},b.prototype.toString=function(){return this.lhs+" ^ "+this.rhs},b}(e),a("WedgeExpr",o),p=function(a){function b(b,c){void 0===c&&(c=!1),a.call(this,b.env,"ReverseExpr"),this.inner=b,this.dirty=c}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.inner.isChanged()},b.prototype.copy=function(a){return new b(this.inner,a)},b.prototype.reset=function(){return new b(this.inner.reset(),(!1))},b.prototype.simplify=function(){return new b(this.inner.simplify())},b.prototype.toPrefix=function(){return"reverse("+this.inner+")"},b.prototype.toString=function(){return"~"+this.inner},b}(d),a("ReverseExpr",p),q=function(a){function b(b,c){void 0===c&&(c=!1),a.call(this,b.env,"InverseExpr"),this.inner=b,this.dirty=c}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.inner.isChanged()},b.prototype.copy=function(a){return new b(this.inner,a)},b.prototype.reset=function(){return new b(this.inner.reset(),(!1))},b.prototype.simplify=function(){return new b(this.inner.simplify())},b.prototype.toPrefix=function(){return"inverse("+this.inner+")"},b.prototype.toString=function(){return"!"+this.inner},b}(d),a("InverseExpr",q),r=function(a){function b(b,c){void 0===c&&(c=!1),a.call(this,b.env,"NegExpr"),this.inner=b,this.dirty=c}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.inner.isChanged()},b.prototype.copy=function(a){return new b(this.inner,a)},b.prototype.reset=function(){return new b(this.inner.reset(),(!1))},b.prototype.simplify=function(){return new b(this.inner.simplify())},b.prototype.toPrefix=function(){return"neg("+this.inner+")"},b.prototype.toString=function(){return"-"+this.inner},b}(d),a("NegExpr",r),s=function(a){function b(b,c){void 0===c&&(c=!1),a.call(this,b.env,"PosExpr"),this.inner=b,this.dirty=c}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.inner.isChanged()},b.prototype.copy=function(a){return new b(this.inner,a)},b.prototype.reset=function(){return new b(this.inner.reset(),(!1))},b.prototype.simplify=function(){return new b(this.inner.simplify())},b.prototype.toPrefix=function(){return"pos("+this.inner+")"},b.prototype.toString=function(){return"+"+this.inner},b}(d),a("PosExpr",s),t=function(){function a(a,b){this.basis=[],this._bnames=[],this._metric=a,this.basis.push(new l(this,[])),this._bnames[0]="1";for(var c=0;c<this._metric.length;c++)for(var d=new l(this,[c]),e=this.basis.length,f=0;f<e;f++){var g=this.basis[f],h=new o(g,d),i=this.simplify(h);if(!(i instanceof l))throw new Error(h+" must simplify to a BasisBladeExpr");this.basis.push(i)}}return a.prototype.bladeName=function(a){var b=this;return a.length>0?a.map(function(a){if(b._bnames){var c=Math.pow(2,a);if(b._bnames[c])return b._bnames[c]}return"e"+(a+1)}).join(" ^ "):this._bnames[0]},a.prototype.g=function(a,b){var c=a.vectors[0],d=b.vectors[0];return new m(this,this._metric[c][d])},a.prototype.scalar=function(a){return new m(this,a)},a.prototype.simplify=function(a){var b=0;if(a instanceof d){for(a=a.reset(),a=a.simplify();a.isChanged();)a=a.reset(),b++,b<100&&(a=a.simplify());return a}throw new Error("expr must be an Expr")},a}(),a("default",t)}}}),System.register("geocas/math/BigInteger.js",[],function(a,b){"use strict";function c(a){return-S<a&&a<S}function d(a){return a<1e7?[a]:a<1e14?[a%1e7,Math.floor(a/1e7)]:[a%1e7,Math.floor(a/1e7)%1e7,Math.floor(a/1e14)]}function e(a){f(a);var b=a.length;if(b<4&&z(a,T)<0)switch(b){case 0:return 0;case 1:return a[0];case 2:return a[0]+a[1]*Q;default:return a[0]+(a[1]+a[2]*Q)*Q}return a}function f(a){for(var b=a.length;0===a[--b];);a.length=b+1}function g(a){for(var b=new Array(a),c=-1;++c<a;)b[c]=0;return b}function h(a){return a>0?Math.floor(a):Math.ceil(a)}function i(a,b){var c,d,e=a.length,f=b.length,g=new Array(e),h=0,i=Q;for(d=0;d<f;d++)c=a[d]+b[d]+h,h=c>=i?1:0,g[d]=c-h*i;for(;d<e;)c=a[d]+h,h=c===i?1:0,g[d++]=c-h*i;return h>0&&g.push(h),g}function j(a,b){return a.length>=b.length?i(a,b):i(b,a)}function k(a,b){var c,d=a.length,e=new Array(d),f=Q;for(c=0;c<d;c++){var g=a[c]-f+b;b=Math.floor(g/f),e[c]=g-b*f,b+=1}for(;b>0;)e[c++]=b%f,b=Math.floor(b/f);return e}function l(a,b){var c,d,e=a.length,g=b.length,h=new Array(e),i=0,j=Q;for(c=0;c<g;c++)d=a[c]-i-b[c],d<0?(d+=j,i=1):i=0,h[c]=d;for(c=g;c<e;c++){if(d=a[c]-i,!(d<0)){h[c++]=d;break}d+=j,h[c]=d}for(;c<e;c++)h[c]=a[c];return f(h),h}function m(a,b,c){var d;z(a,b)>=0?d=l(a,b):(d=l(b,a),c=!c);var f=e(d);return"number"==typeof f?(c&&(f=-f),new _(f)):new $(f,c)}function n(a,b,c){for(var d=a.length,f=new Array(d),g=-b,h=Q,i=0;i<d;i++){var j=a[i]+g;g=Math.floor(j/h),j%=h,f[i]=j<0?j+h:j}var k=e(f);return"number"==typeof k?(c&&(k=-k),new _(k)):new $(k,c)}function o(a,b){for(var c=a.length,d=b.length,e=c+d,h=g(e),i=Q,j=0;j<c;++j)for(var k=a[j],l=0;l<d;++l){var m=b[l],n=k*m+h[j+l],o=Math.floor(n/i);h[j+l]=n-o*i,h[j+l+1]+=o}return f(h),h}function p(a,b){var c,d=a.length,e=new Array(d),f=Q,g=0;for(c=0;c<d;c++){var h=a[c]*b+g;g=Math.floor(h/f),e[c]=h-g*f}for(;g>0;)e[c++]=g%f,g=Math.floor(g/f);return e}function q(a,b){for(var c=[];b-- >0;)c.push(0);return c.concat(a)}function r(a,b){var c=Math.max(a.length,b.length);if(c<=30)return o(a,b);c=Math.ceil(c/2);var d=a.slice(c),e=a.slice(0,c),g=b.slice(c),h=b.slice(0,c),i=r(e,h),k=r(d,g),m=r(j(e,d),j(h,g)),n=j(j(i,q(l(l(m,i),k),c)),q(k,2*c));return f(n),n}function s(a,b){return-.012*a-.012*b+15e-6*a*b>0}function t(a,b,c){return a<Q?new $(p(b,a),c):new $(o(b,d(a)),c)}function u(a){for(var b=a.length,c=g(b+b),d=Q,e=0;e<b;e++)for(var h=a[e],i=0;i<b;i++){var j=a[i],k=h*j+c[e+i],l=Math.floor(k/d);c[e+i]=k-l*d,c[e+i+1]+=l}return f(c),c}function v(a,b){var c,d,f=a.length,h=b.length,i=Q,j=g(b.length),k=b[h-1],l=Math.ceil(i/(2*k)),m=p(a,l),n=p(b,l);for(m.length<=f&&m.push(0),n.push(0),k=n[h-1],d=f-h;d>=0;d--){c=i-1,m[d+h]!==k&&(c=Math.floor((m[d+h]*i+m[d+h-1])/k));for(var o=0,q=0,r=n.length,s=0;s<r;s++){o+=c*n[s];var t=Math.floor(o/i);q+=m[d+s]-(o-t*i),o=t,q<0?(m[d+s]=q+i,q=-1):(m[d+s]=q,q=0)}for(;0!==q;){c-=1,o=0;for(var u=0;u<r;u++)o+=m[d+u]-i+n[u],o<0?(m[d+u]=o+i,o=0):(m[d+u]=o,o=1);q+=o}j[d]=c}return m=x(m,l)[0],[e(j),e(m)]}function w(a,b){for(var c=a.length,d=b.length,f=[],g=[],h=Q;c;)if(g.unshift(a[--c]),z(g,b)<0)f.push(0);else{var i=g.length,j=g[i-1]*h+g[i-2],k=b[d-1]*h+b[d-2];i>d&&(j=(j+1)*h);var m=Math.ceil(j/k),n=void 0;do{if(n=p(b,m),z(n,g)<=0)break;m--}while(m);f.push(m),g=l(g,n)}return f.reverse(),[e(f),e(g)]}function x(a,b){for(var c=a.length,d=g(c),e=Q,f=0,i=c-1;i>=0;--i){var j=f*e+a[i],k=h(j/b);f=j-k*b,d[i]=0|k}return[d,0|f]}function y(a,b){var c,f,g=N(b),i=a.value,j=g.value;if(0===j)throw new Error("Cannot divide by zero");if(a.isSmall)return g.isSmall?[new _(h(i/j)),new _(i%j)]:[Z[0],a];if(g.isSmall){if(1===j)return[a,Z[0]];if(j===-1)return[a.negate(),Z[0]];var k=Math.abs(j);if(k<Q){c=x(i,k),f=e(c[0]);var l=c[1];return a.sign&&(l=-l),"number"==typeof f?(a.sign!==g.sign&&(f=-f),[new _(f),new _(l)]):[new $(f,a.sign!==g.sign),new _(l)]}j=d(k)}var m=i,n=j,o=z(m,n);if(o===-1)return[Z[0],a];if(0===o)return[Z[a.sign===g.sign?1:-1],Z[0]];c=m.length+n.length<=200?v(m,n):w(m,n),f=c[0];var p,q=a.sign!==g.sign,r=c[1],s=a.sign;return"number"==typeof f?(q&&(f=-f),p=new _(f)):p=new $(f,q),"number"==typeof r?(s&&(r=-r),[p,new _(r)]):[p,new $(r,s)]}function z(a,b){if(a.length!==b.length)return a.length>b.length?1:-1;for(var c=a.length-1;c>=0;c--)if(a[c]!==b[c])return a[c]>b[c]?1:-1;return 0}function A(a){var b=a.abs();return!b.isUnit()&&(!!(b.equals(2)||b.equals(3)||b.equals(5))||!(b.isEven()||b.isDivisibleBy(3)||b.isDivisibleBy(5))&&(!!b.lesser(25)||void 0))}function B(a){return("number"==typeof a||"string"==typeof a)&&+Math.abs(a)<=Q||a instanceof $&&a.value.length<=1}function C(a,b,c){for(var d=N(b),e=a.isNegative(),f=d.isNegative(),g=e?a.not():a,h=f?d.not():d,i=[],j=[],k=!1,l=!1;!k||!l;)g.isZero()?(k=!0,i.push(e?1:0)):e?i.push(g.isEven()?1:0):i.push(g.isEven()?0:1),h.isZero()?(l=!0,j.push(f?1:0)):f?j.push(h.isEven()?1:0):j.push(h.isEven()?0:1),g=g.over(2),h=h.over(2);for(var m=[],n=0;n<i.length;n++)m.push(c(i[n],j[n]));for(var o=P(m.pop()).negate().times(P(2).pow(m.length));m.length;)o=o.add(P(m.pop()).times(P(2).pow(m.length)));return o}function D(a){var b=a.value,c="number"==typeof b?b|aa:b[0]+b[1]*Q|ba;return c&-c}function E(a,b){var c=N(a),d=N(b);return c.greater(d)?c:d}function F(a,b){var c=N(a),d=N(b);return c.lesser(d)?c:d}function G(a,b){var c=N(a).abs(),d=N(b).abs();if(c.equals(d))return c;if(c.isZero())return d;if(d.isZero())return c;for(var e=Z[1];c.isEven()&&d.isEven();){var f=Math.min(D(c),D(d));c=c.divide(f),d=d.divide(f),e=e.multiply(f)}for(;c.isEven();)c=c.divide(D(c));do{for(;d.isEven();)d=d.divide(D(d));if(c.greater(d)){var g=d;d=c,c=g}d=d.subtract(c)}while(!d.isZero());return e.isUnit()?c:c.multiply(e)}function H(a,b){var c=N(a).abs(),d=N(b).abs();return c.divide(G(c,d)).multiply(d)}function I(a,b){if("undefined"==typeof a)throw new Error("a must be number | string | Integer");if("undefined"==typeof b)throw new Error("b must be number | string | Integer");a=N(a),b=N(b);var c=F(a,b),d=E(a,b),f=d.subtract(c);if(f.isSmall)return c.add(Math.round(Math.random()*f.valueOf()));for(var g=f.value.length-1,i=[],j=!0,k=g;k>=0;k--){var l=j?f.value[k]:Q,m=h(Math.random()*l);i.unshift(m),m<l&&(j=!1)}var n=e(i);return c.add("number"==typeof n?new _(n):new $(n,(!1)))}function J(a){var b,c=a.value;return b="number"==typeof c?[c]:c,1===b.length&&b[0]<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(b[0]):"<"+b+">"}function K(a,b){var c=P(b);if(c.isZero()){if(a.isZero())return"0";throw new Error("Cannot convert nonzero numbers to base 0.")}if(c.equals(-1))return a.isZero()?"0":a.isNegative()?new Array(1-a.valueOf()).join("10"):"1"+new Array((+a)).join("01");var d="";if(a.isNegative()&&c.isPositive()&&(d="-",a=a.abs()),c.equals(1))return a.isZero()?"0":d+new Array(+a+1).join("1");for(var e=[],f=a;f.isNegative()||f.compareAbs(c)>=0;){var g=f.divmod(c);f=g.quotient;var h=g.remainder;h.isNegative()&&(h=c.minus(h).abs(),f=f.next()),e.push(J(h))}return e.push(J(f)),d+e.reverse().join("")}function L(a){if(c(+a)){var b=+a;if(b===h(b))return new _(b);throw"Invalid integer: "+a}var d="-"===a[0];d&&(a=a.slice(1));var e=a.split(/e/i);if(e.length>2)throw new Error("Invalid integer: "+e.join("e"));if(2===e.length){var g=e[1];if("+"===g[0]&&(g=g.slice(1)),g=+g,g!==h(g)||!c(g))throw new Error("Invalid integer: "+g+" is not a valid exponent.");var i=e[0],j=i.indexOf(".");if(j>=0&&(g-=i.length-j-1,i=i.slice(0,j)+i.slice(j+1)),g<0)throw new Error("Cannot include negative exponent part for integers");i+=new Array(g+1).join("0"),a=i}var k=/^([0-9][0-9]*)$/.test(a);if(!k)throw new Error("Invalid integer: "+a);for(var l=[],m=a.length,n=R,o=m-n;m>0;)l.push(+a.slice(o,m)),o-=n,o<0&&(o=0),m-=n;return f(l),new $(l,d)}function M(a){if(c(a)){if(a!==h(a))throw new Error(a+" is not an integer.");return new _(a)}return L(a.toString())}function N(a){if("number"==typeof a)return M(a);if("string"==typeof a)return L(a);if(a instanceof Z)return a;throw new Error("v must be a number or a string or Integer: Found "+typeof a)}function O(a){return a instanceof $||a instanceof _}function P(a,b){return new Z(a,b)}var Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga=(b&&b.id,this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});return a("max",E),a("min",F),a("gcd",G),a("lcm",H),a("randBetween",I),a("isInstance",O),a("default",P),{setters:[],execute:function(){for(Q=1e7,R=7,S=9007199254740992,T=d(S),U=Math.log(S),V=function(a,b){var c=Z[0],d=Z[1],e=a.length;if(2<=b&&b<=36&&e<=U/Math.log(b))return new _(parseInt(a,b));for(var f=N(b),g=[],h="-"===a[0],i=h?1:0;i<a.length;i++){var j=a[i].toLowerCase(),k=j.charCodeAt(0);if(48<=k&&k<=57)g.push(N(j));else if(97<=k&&k<=122)g.push(N(j.charCodeAt(0)-87));else{if("<"!==j)throw new Error(j+" is not a valid character");var l=i;do i++;while(">"!==a[i]);g.push(N(a.slice(l+1,i)))}}g.reverse();for(var m=0;m<g.length;m++)c=c.add(g[m].times(d)),d=d.times(f);return h?c.negate():c},W=[1];W[W.length-1]<=Q;)W.push(2*W[W.length-1]);for(X=W.length,Y=W[X-1],Z=function(){function a(b,c){return"undefined"==typeof b?a[0]:"undefined"!=typeof c?10===+c?N(b):V(b,c):N(b)}return a.prototype.add=function(a){throw new Error},a.prototype.plus=function(a){throw new Error},a.prototype.subtract=function(a){throw new Error},a.prototype.isPositive=function(){throw new Error},a.prototype.isNegative=function(){throw new Error},a.prototype.isUnit=function(){throw new Error},a.prototype.isOdd=function(){throw new Error},a.prototype.divmod=function(a){var b=y(this,a);return{quotient:b[0],remainder:b[1]}},a.prototype.divide=function(a){return y(this,a)[0]},a.prototype.over=function(a){return this.divide(a)},a.prototype.mod=function(a){return y(this,a)[1]},a.prototype.remainder=function(a){return this.mod(a)},a.prototype.pow=function(b){var d,e=N(b),f=this.value,g=e.value;if(0===g)return a[1];if(0===f)return a[0];if(1===f)return a[1];if(f===-1)return e.isEven()?a[1]:a[-1];if(e.sign)return a[0];if(!e.isSmall)throw new Error("The exponent "+e.toString()+" is too large.");if(this.isSmall&&c(d=Math.pow(f,g)))return new _(h(d));for(var i=this,j=a[1];;){if(1===(1&g)&&(j=j.times(i),--g),0===g)break;g/=2,i=i.square()}return j},a.prototype.modPow=function(b,c){var d=N(b),e=N(c);if(e.isZero())throw new Error("Cannot take modPow with modulus 0");for(var f=a[1],g=this.mod(e);d.isPositive();){if(g.isZero())return a[0];d.isOdd()&&(f=f.multiply(g).mod(e)),d=d.divide(2),g=g.square().mod(e)}return f},a.prototype._multiplyBySmall=function(a){throw new Error},a.prototype.compare=function(a){throw new Error},a.prototype.compareAbs=function(a){throw new Error},a.prototype.equals=function(a){return 0===this.compare(a)},a.prototype.eq=function(a){return this.equals(a)},a.prototype.notEquals=function(a){return 0!==this.compare(a)},a.prototype.neq=function(a){return this.notEquals(a)},a.prototype.greater=function(a){return this.compare(a)>0},a.prototype.gt=function(a){return this.greater(a)},a.prototype.lesser=function(a){return this.compare(a)<0},a.prototype.lt=function(a){return this.lesser(a)},a.prototype.greaterOrEquals=function(a){return this.compare(a)>=0},a.prototype.geq=function(a){return this.greaterOrEquals(a)},a.prototype.lesserOrEquals=function(a){return this.compare(a)<=0},a.prototype.leq=function(a){return this.lesserOrEquals(a)},a.prototype.isEven=function(){throw new Error},a.prototype.isDivisibleBy=function(b){var c=N(b),d=c.value;return 0!==d&&(1===d||(2===d?this.isEven():this.mod(c).equals(a[0])))},a.prototype.abs=function(){throw new Error},a.prototype.next=function(){throw new Error},a.prototype.prev=function(){throw new Error},a.prototype.times=function(a){throw new Error},a.prototype.square=function(){throw new Error},a.prototype.isPrime=function(){var b=A(this);if(void 0!==b)return b;for(var c=this.abs(),d=c.prev(),e=[2,3,5,7,11,13,17,19],f=d;f.isEven();)f=f.divide(2);for(var g=0;g<e.length;g++){var h=P(e[g]).modPow(f,c);if(!h.equals(a[1])&&!h.equals(d)){var i=void 0,j=void 0;for(i=!0,j=f;i&&j.lesser(d);j=j.multiply(2))h=h.square().mod(c),h.equals(d)&&(i=!1);if(i)return!1}}return!0},a.prototype.minus=function(a){throw new Error},a.prototype.isProbablePrime=function(a){var b=A(this);if(void 0!==b)return b;for(var c=this.abs(),d=void 0===a?5:a,e=0;e<d;e++){var f=I(2,c.minus(2));if(!f.modPow(c.prev(),c).isUnit())return!1}return!0},a.prototype.multiply=function(a){throw new Error},a.prototype.shiftLeft=function(a){if(!B(a))throw new Error(String(a)+" is too large for shifting.");var b=+a;if(b<0)return this.shiftRight(-b);for(var c=this;b>=X;)c=c.multiply(Y),b-=X-1;return c.multiply(W[b])},a.prototype.isZero=function(){throw new Error},a.prototype.shiftRight=function(a){var b;if(!B(a))throw new Error(String(a)+" is too large for shifting.");var c=+a;if(c<0)return this.shiftLeft(-c);for(var d=this;c>=X;){if(d.isZero())return d;b=y(d,Y),d=b[1].isNegative()?b[0].prev():b[0],c-=X-1}return b=y(d,W[c]),b[1].isNegative()?b[0].prev():b[0]},a.prototype.negate=function(){throw new Error},a.prototype.not=function(){return this.negate().prev()},a.prototype.and=function(a){return C(this,a,function(a,b){return a&b})},a.prototype.or=function(a){return C(this,a,function(a,b){return a|b})},a.prototype.xor=function(a){return C(this,a,function(a,b){return a^b})},a.prototype.valueOf=function(){throw new Error},a.prototype.toJSNumber=function(){return this.valueOf()},a.prototype.toStringEx=function(a){throw new Error},a.prototype.toString=function(){return this.toStringEx()},a}(),a("Integer",Z),$=function(a){function b(b,c){a.call(this,void 0,void 0),this.value=b,this.sign=c,this.isSmall=!1}return ga(b,a),b.prototype.add=function(a){var c=N(a);if(this.sign!==c.sign)return this.subtract(c.negate());var d=this.value;if(c.isSmall){var e=c.value;return new b(k(d,Math.abs(e)),this.sign)}var e=c.value;return new b(j(d,e),this.sign)},b.prototype.plus=function(a){return this.add(a)},b.prototype.__add__=function(a){return this.add(a)},b.prototype.__radd__=function(a){var b=N(a);return b.add(this)},b.prototype.subtract=function(a){var b=N(a);if(this.sign!==b.sign)return this.add(b.negate());var c=this.value;if(b.isSmall){var d=b.value;return n(c,Math.abs(d),this.sign)}var d=b.value;return m(c,d,this.sign)},b.prototype.minus=function(a){return this.subtract(a)},b.prototype.__sub__=function(a){return this.subtract(a)},b.prototype.__rsub__=function(a){var b=N(a);return b.subtract(this)},b.prototype.negate=function(){return new b(this.value,(!this.sign))},b.prototype.neg=function(){return new b(this.value,(!this.sign))},b.prototype.__neg__=function(){return this.negate()},b.prototype.__pos__=function(){return this},b.prototype.abs=function(){return new b(this.value,(!1))},b.prototype.inv=function(){throw new Error("inv() is not supported for BigInteger")},b.prototype.multiply=function(a){var c,e=N(a),f=this.value,g=this.sign!==e.sign;if(e.isSmall){var h=e.value;if(0===h)return Z[0];if(1===h)return this;if(h===-1)return this.negate();var i=Math.abs(h);if(i<Q)return new b(p(f,i),g);c=d(i)}else c=e.value;return s(f.length,c.length)?new b(r(f,c),g):new b(o(f,c),g)},b.prototype.times=function(a){return this.multiply(a)},b.prototype.__mul__=function(a){return this.multiply(a)},b.prototype.__rmul__=function(a){var b=N(a);return b.multiply(this)},b.prototype._multiplyBySmall=function(a){return 0===a.value?Z[0]:1===a.value?this:a.value===-1?this.negate():t(Math.abs(a.value),this.value,this.sign!==a.sign)},b.prototype.square=function(){return new b(u(this.value),(!1))},b.prototype.compareAbs=function(a){var b=N(a),c=this.value;if(b.isSmall)return 1;var d=b.value;return z(c,d)},b.prototype.compare=function(a){if(a===1/0)return-1;if(a===-(1/0))return 1;var b=N(a),c=this.value;if(this.sign!==b.sign)return b.sign?1:-1;if(b.isSmall)return this.sign?-1:1;var d=b.value;return z(c,d)*(this.sign?-1:1)},b.prototype.compareTo=function(a){return this.compare(a)},b.prototype.isEven=function(){return 0===(1&this.value[0])},b.prototype.isOdd=function(){return 1===(1&this.value[0])},b.prototype.isPositive=function(){return!this.sign},b.prototype.isNegative=function(){return this.sign},b.prototype.isOne=function(){return!1},b.prototype.isUnit=function(){return!1},b.prototype.isZero=function(){return!1},b.prototype.next=function(){var a=this.value;return this.sign?n(a,1,this.sign):new b(k(a,1),this.sign)},b.prototype.prev=function(){var a=this.value;return this.sign?new b(k(a,1),(!0)):n(a,1,this.sign)},b.prototype.toStringEx=function(a){if(void 0===a&&(a=10),10!==a)return K(this,a);for(var b=this.value,c=b.length,d=String(b[--c]),e="0000000";--c>=0;){var f=String(b[c]);d+=e.slice(f.length)+f}var g=this.sign?"-":"";return g+d},b.prototype.valueOf=function(){return+this.toStringEx()},b}(Z),_=function(a){function b(b){a.call(this,void 0,void 0),this.value=b,this.sign=b<0,this.isSmall=!0}return ga(b,a),b.prototype.add=function(a){var e=N(a),f=this.value;if(f<0!==e.sign)return this.subtract(e.negate());var g;if(e.isSmall){
var h=e.value;if(c(f+h))return new b(f+h);g=d(Math.abs(h))}else g=e.value;return new $(k(g,Math.abs(f)),f<0)},b.prototype.plus=function(a){return this.add(a)},b.prototype.__add__=function(a){return this.add(a)},b.prototype.__radd__=function(a){var b=N(a);return b.add(this)},b.prototype.subtract=function(a){var c=N(a),d=this.value;if(d<0!==c.sign)return this.add(c.negate());if(c.isSmall){var e=c.value;return new b(d-e)}var e=c.value;return n(e,Math.abs(d),d>=0)},b.prototype.minus=function(a){return this.subtract(a)},b.prototype.__sub__=function(a){return this.subtract(a)},b.prototype.__rsub__=function(a){var b=N(a);return b.subtract(this)},b.prototype.negate=function(){var a=this.sign,c=new b((-this.value));return c.sign=!a,c},b.prototype.neg=function(){return this.negate()},b.prototype.__neg__=function(){return this.negate()},b.prototype.__pos__=function(){return this},b.prototype.abs=function(){return new b(Math.abs(this.value))},b.prototype.inv=function(){throw new Error("inv() is not supported")},b.prototype._multiplyBySmall=function(a){return c(a.value*this.value)?new b(a.value*this.value):t(Math.abs(a.value),d(Math.abs(this.value)),this.sign!==a.sign)},b.prototype.multiply=function(a){return N(a)._multiplyBySmall(this)},b.prototype.times=function(a){return this.multiply(a)},b.prototype.__mul__=function(a){return this.multiply(a)},b.prototype.__rmul__=function(a){var b=N(a);return b.multiply(this)},b.prototype.square=function(){var a=this.value*this.value;return c(a)?new b(a):new $(u(d(Math.abs(this.value))),(!1))},b.prototype.compareAbs=function(a){var b=N(a),c=Math.abs(this.value);if(b.isSmall){var d=b.value,e=Math.abs(d);return c===e?0:c>e?1:-1}return-1},b.prototype.compare=function(a){if(a===1/0)return-1;if(a===-(1/0))return 1;var b=N(a),c=this.value;if(b.isSmall){var d=b.value;return c===d?0:c>d?1:-1}return c<0!==b.sign?c<0?-1:1:c<0?1:-1},b.prototype.compareTo=function(a){return this.compare(a)},b.prototype.isEven=function(){return 0===(1&this.value)},b.prototype.isOdd=function(){return 1===(1&this.value)},b.prototype.isPositive=function(){return this.value>0},b.prototype.isNegative=function(){return this.value<0},b.prototype.isOne=function(){return this.isUnit()},b.prototype.isUnit=function(){return 1===Math.abs(this.value)},b.prototype.isZero=function(){return 0===this.value},b.prototype.next=function(){var a=this.value;return a+1<S?new b(a+1):new $(T,(!1))},b.prototype.prev=function(){var a=this.value;return a-1>-S?new b(a-1):new $(T,(!0))},b.prototype.toStringEx=function(a){return void 0===a&&(a=10),10!==a?K(this,a):String(this.value)},b.prototype.valueOf=function(){return this.value},b}(Z),aa=1<<30,ba=(Q&-Q)*(Q&-Q)|aa,ca=0;ca<1e3;ca++)Z[ca]=new _(ca),ca>0&&(Z[-ca]=new _((-ca)));a("one",da=Z[1]),a("zero",ea=Z[0]),a("minusOne",fa=Z[-1])}}}),System.register("geocas/math/BigRational.js",["./BigInteger"],function(a,b){"use strict";function c(a,b){var c=h.gcd(a,b),d=a.over(c),e=b.over(c);return e.isNegative()?new i(d.negate(),e.negate()):new i(d,e)}function d(a,b){return f(a,b)}function e(a){var b=a.split(/e/i);if(b.length>2)throw new Error("Invalid input: too many 'e' tokens");if(b.length>1){var d=!0;"-"===b[1][0]&&(b[1]=b[1].slice(1),d=!1),"+"===b[1][0]&&(b[1]=b[1].slice(1));var f=e(b[0]),j=new i(g["default"](10).pow(b[1]),h.one);return d?f.times(j):f.over(j)}if(b=a.trim().split("."),b.length>2)throw new Error("Invalid input: too many '.' tokens");if(b.length>1){var k="-"===b[0][0];k&&(b[0]=b[0].slice(1));for(var l=new i(g["default"](b[0]),h.one),m=b[1].length;"0"===b[1][0];)b[1]=b[1].slice(1);var n="1"+Array(m+1).join("0"),o=c(g["default"](b[1]),g["default"](n));return l=l.add(o),k&&(l=l.negate()),l}return new i(g["default"](a),h.one)}function f(a,b){if(!a)return new i(g["default"](0),h.one);if(b)return c(g["default"](a),g["default"](b));if(h.isInstance(a))return new i(a,h.one);if(a instanceof i)return a;var d,f,j=String(a),k=j.split("/");if(k.length>2)throw new Error("Invalid input: too many '/' tokens");if(k.length>1){var l=k[0].split("_");if(l.length>2)throw new Error("Invalid input: too many '_' tokens");if(l.length>1){var m="-"!==l[0][0];return d=g["default"](l[0]).times(k[1]),d=m?d.add(l[1]):d.subtract(l[1]),f=g["default"](k[1]),c(d,f)}return c(g["default"](k[0]),g["default"](k[1]))}return e(j)}var g,h,i,j,k,l;b&&b.id;return a("default",f),{setters:[function(a){g=a,h=a}],execute:function(){i=function(){function a(a,b){if(this.numer=a,this.denom=b,b.isZero())throw"Denominator cannot be 0."}return a.prototype.add=function(a,b){var e=d(a,b),f=h.lcm(this.denom,e.denom),g=f.divide(this.denom),i=f.divide(e.denom);return g=this.numer.times(g),i=e.numer.times(i),c(g.add(i),f)},a.prototype.plus=function(a,b){return this.add(a,b)},a.prototype.__add__=function(a){return this.add(a)},a.prototype.__radd__=function(a){var b=d(a);return b.add(this)},a.prototype.subtract=function(a,b){var c=d(a,b);return this.add(c.negate())},a.prototype.minus=function(a,b){return this.subtract(a,b)},a.prototype.__sub__=function(a){return this.subtract(a)},a.prototype.__rsub__=function(a){var b=d(a);return b.subtract(this)},a.prototype.multiply=function(a,b){var e=d(a,b);return c(this.numer.times(e.numer),this.denom.times(e.denom))},a.prototype.times=function(a,b){return this.multiply(a,b)},a.prototype.__mul__=function(a){return this.multiply(a)},a.prototype.__rmul__=function(a){var b=d(a);return b.multiply(this)},a.prototype.divide=function(a,b){var e=d(a,b);return c(this.numer.times(e.denom),this.denom.times(e.numer))},a.prototype.__div__=function(a){return this.divide(a)},a.prototype.__rdiv__=function(a){var b=d(a);return b.divide(this)},a.prototype.inv=function(){return this.reciprocate()},a.prototype.over=function(a,b){return this.divide(a,b)},a.prototype.reciprocate=function(){return new a(this.denom,this.numer)},a.prototype.mod=function(a,b){var c=d(a,b);return this.minus(c.times(this.over(c).floor()))},a.prototype.pow=function(a){var b=g["default"](a),d=this.numer.pow(b),e=this.denom.pow(b);return c(d,e)},a.prototype.floor=function(b){var c,d=this.numer.divmod(this.denom);return c=d.remainder.isZero()||!d.quotient.sign?d.quotient:d.quotient.prev(),b?c:new a(c,h.one)},a.prototype.ceil=function(b){var c,d=this.numer.divmod(this.denom);return c=d.remainder.isZero()||d.quotient.sign?d.quotient:d.quotient.next(),b?c:new a(c,h.one)},a.prototype.round=function(a){return this.add(1,2).floor(a)},a.prototype.compareAbs=function(a,b){var c=d(a,b);return this.denom.equals(c.denom)?this.numer.compareAbs(c.numer):this.numer.times(c.denom).compareAbs(c.numer.times(this.denom))},a.prototype.compare=function(a,b){var c=d(a,b);if(this.denom.equals(c.denom))return this.numer.compare(c.numer);var e=this.denom.sign===c.denom.sign?1:-1;return e*this.numer.times(c.denom).compare(c.numer.times(this.denom))},a.prototype.compareTo=function(a,b){return this.compare(a,b)},a.prototype.equals=function(a,b){return 0===this.compare(a,b)},a.prototype.eq=function(a,b){return this.equals(a,b)},a.prototype.__eq__=function(a){return this.eq(a)},a.prototype.notEquals=function(a,b){return 0!==this.compare(a,b)},a.prototype.neq=function(a,b){return this.notEquals(a,b)},a.prototype.__ne__=function(a){return this.neq(a)},a.prototype.lesser=function(a,b){return this.compare(a,b)<0},a.prototype.lt=function(a,b){return this.lesser(a,b)},a.prototype.__lt__=function(a){return this.lt(a)},a.prototype.lesserOrEquals=function(a,b){return this.compare(a,b)<=0},a.prototype.leq=function(a,b){return this.lesserOrEquals(a,b)},a.prototype.__le__=function(a){return this.leq(a)},a.prototype.greater=function(a,b){return this.compare(a,b)>0},a.prototype.gt=function(a,b){return this.greater(a,b)},a.prototype.__gt__=function(a){return this.gt(a)},a.prototype.greaterOrEquals=function(a,b){return this.compare(a,b)>=0},a.prototype.geq=function(a,b){return this.greaterOrEquals(a,b)},a.prototype.__ge__=function(a){return this.geq(a)},a.prototype.abs=function(){return this.isPositive()?this:this.negate()},a.prototype.__pos__=function(){return this},a.prototype.__neg__=function(){return this.negate()},a.prototype.neg=function(){return this.negate()},a.prototype.negate=function(){return this.denom.sign?new a(this.numer,this.denom.negate()):new a(this.numer.negate(),this.denom)},a.prototype.isNegative=function(){return this.numer.sign!==this.denom.sign&&!this.numer.isZero()},a.prototype.isOne=function(){return this.numer.isUnit()&&this.denom.isUnit()},a.prototype.isPositive=function(){return this.numer.sign===this.denom.sign&&!this.numer.isZero()},a.prototype.isZero=function(){return this.numer.isZero()},a.prototype.__vbar__=function(a){return this.multiply(a)},a.prototype.__rvbar__=function(a){var b=d(a);return b.multiply(this)},a.prototype.__wedge__=function(a){return f(0)},a.prototype.__rwedge__=function(a){return f(0)},a.prototype.__lshift__=function(a){return this.__vbar__(a)},a.prototype.__rlshift__=function(a){return this.__vbar__(a)},a.prototype.__rshift__=function(a){return this.__vbar__(a)},a.prototype.__rrshift__=function(a){return this.__vbar__(a)},a.prototype.__bang__=function(){},a.prototype.__tilde__=function(){},a.prototype.toDecimal=function(a){void 0===a&&(a=10);var b=this.numer.divmod(this.denom),c=b.quotient.abs().toString(),d=f(b.remainder.abs(),this.denom),e=d.times(g["default"]("1e"+a)),h=e.numer.over(e.denom).toString();if(h.length<a&&(h=new Array(a-h.length+1).join("0")+h),e.numer.mod(e.denom).isZero())for(;"0"===h.slice(-1);)h=h.slice(0,-1);return this.isNegative()&&(c="-"+c),""===h?c:c+"."+h},a.prototype.toString=function(){return String(this.numer)+"/"+String(this.denom)},a.prototype.valueOf=function(){return this.numer.valueOf()/this.denom.valueOf()},a}(),a("zero",j=f(0)),a("one",k=f(1)),a("minusOne",l=f(-1))}}}),System.register("geocas/mother/lcoE.js",["./gpE","./grade"],function(a,b){"use strict";function c(a,b,c){var f=a.grade(),g=b.grade();if(f>g)return a.zero();var h=a.bitmap^b.bitmap,i=e["default"](h);return i!==g-f?a.zero():d["default"](a,b,c)}var d,e;b&&b.id;return a("default",c),{setters:[function(a){d=a},function(a){e=a}],execute:function(){}}}),System.register("geocas/mother/lcoL.js",["./gpL","./grade"],function(a,b){"use strict";function c(a,b,c,f){var g=a.grade(),h=b.grade();if(g>h)return a.zero();var i=a.bitmap^b.bitmap,j=e["default"](i);return j!==h-g?a.zero():d["default"](a,b,c,f)}var d,e;b&&b.id;return a("default",c),{setters:[function(a){d=a},function(a){e=a}],execute:function(){}}}),System.register("geocas/mother/lcoG.js",["./gpG","./grade"],function(a,b){"use strict";function c(a,b,c,f){var g=a.grade(),h=b.grade();if(g>h)return[];var i=a.bitmap^b.bitmap,j=e["default"](i);return j!==h-g?[]:d["default"](a,b,c,f)}var d,e;b&&b.id;return a("default",c),{setters:[function(a){d=a},function(a){e=a}],execute:function(){}}}),System.register("geocas/mother/rcoE.js",["./gpE","./grade"],function(a,b){"use strict";function c(a,b,c){var f=a.grade(),g=b.grade();if(f<g)return a.zero();var h=a.bitmap^b.bitmap,i=e["default"](h);return i!==f-g?a.zero():d["default"](a,b,c)}var d,e;b&&b.id;return a("default",c),{setters:[function(a){d=a},function(a){e=a}],execute:function(){}}}),System.register("geocas/mother/rcoL.js",["./gpL","./grade"],function(a,b){"use strict";function c(a,b,c,f){var g=a.grade(),h=b.grade();if(g<h)return a.zero();var i=a.bitmap^b.bitmap,j=e["default"](i);return j!==g-h?a.zero():d["default"](a,b,c,f)}var d,e;b&&b.id;return a("default",c),{setters:[function(a){d=a},function(a){e=a}],execute:function(){}}}),System.register("geocas/mother/gpE.js",["./Blade","./canonicalReorderingSign"],function(a,b){"use strict";function c(a,b,c){var f=a.bitmap^b.bitmap,g=e["default"](a.bitmap,b.bitmap),h=c.mul(a.weight,b.weight);return g>0?d["default"](f,h,c):d["default"](f,c.neg(h),c)}var d,e;b&&b.id;return a("default",c),{setters:[function(a){d=a},function(a){e=a}],execute:function(){}}}),System.register("geocas/mother/gpL.js",["./Blade","./gpE"],function(a,b){"use strict";function c(a,b,c,f){for(var g=e["default"](a,b,f),h=g.weight,i=a.bitmap&b.bitmap,j=0;0!==i;)0!==(1&i)&&(h=f.scale(h,c[j])),j++,i>>=1;return d["default"](g.bitmap,h,f)}var d,e;b&&b.id;return a("default",c),{setters:[function(a){d=a},function(a){e=a}],execute:function(){}}}),System.register("geocas/mother/gpG.js",["./gpL","./simplify"],function(a,b){"use strict";function c(a,b,c,f){for(var g=c.toEigenBasis(a),h=c.toEigenBasis(b),i=c.getEigenMetric(),j=[],k=0;k<g.length;k++)for(var l=0;l<h.length;l++)j.push(d["default"](g[k],h[l],i,f));return c.toMetricBasis(e["default"](j,f))}var d,e;b&&b.id;return a("default",c),{setters:[function(a){d=a},function(a){e=a}],execute:function(){}}}),System.register("geocas/mother/grade.js",["./bitCount"],function(a,b){"use strict";function c(a){return d["default"](a)}var d;b&&b.id;return a("default",c),{setters:[function(a){d=a}],execute:function(){}}}),System.register("geocas/mother/rcoG.js",["./gpG","./grade"],function(a,b){"use strict";function c(a,b,c,f){var g=a.grade(),h=b.grade();if(g<h)return[];var i=a.bitmap^b.bitmap,j=e["default"](i);return j!==g-h?[]:d["default"](a,b,c,f)}var d,e;b&&b.id;return a("default",c),{setters:[function(a){d=a},function(a){e=a}],execute:function(){}}}),System.register("geocas/checks/isArray.js",[],function(a,b){"use strict";function c(a){return"[object Array]"===Object.prototype.toString.call(a)}b&&b.id;return a("default",c),{setters:[],execute:function(){}}}),System.register("geocas/checks/isDefined.js",[],function(a,b){"use strict";function c(a){return"undefined"!=typeof a}b&&b.id;return a("default",c),{setters:[],execute:function(){}}}),System.register("geocas/checks/mustBeDefined.js",["../checks/mustSatisfy","../checks/isDefined"],function(a,b){"use strict";function c(){return"not be 'undefined'"}function d(a,b,d){return e["default"](a,f["default"](b),c,d),b}var e,f;b&&b.id;return a("default",d),{setters:[function(a){e=a},function(a){f=a}],execute:function(){}}}),System.register("geocas/checks/isNumber.js",[],function(a,b){"use strict";function c(a){return"number"==typeof a}b&&b.id;return a("default",c),{setters:[],execute:function(){}}}),System.register("geocas/checks/isInteger.js",["../checks/isNumber"],function(a,b){"use strict";function c(a){return d["default"](a)&&a%1===0}var d;b&&b.id;return a("default",c),{setters:[function(a){d=a}],execute:function(){}}}),System.register("geocas/checks/mustBeInteger.js",["../checks/mustSatisfy","../checks/isInteger"],function(a,b){"use strict";function c(){return"be an integer"}function d(a,b,d){return e["default"](a,f["default"](b),c,d),b}var e,f;b&&b.id;return a("default",d),{setters:[function(a){e=a},function(a){f=a}],execute:function(){}}}),System.register("geocas/checks/mustSatisfy.js",[],function(a,b){"use strict";function c(a,b,c,d){if(!b){var e=c?c():"satisfy some condition",f=d?" in "+d():"";throw new Error(a+" must "+e+f+".")}}b&&b.id;return a("default",c),{setters:[],execute:function(){}}}),System.register("geocas/mother/bitCount.js",[],function(a,b){"use strict";function c(a){return a-=a>>1&1431655765,a=(858993459&a)+(a>>2&858993459),a=a+(a>>4)&252645135,a+=a>>8,a+=a>>16,63&a}b&&b.id;return a("default",c),{setters:[],execute:function(){}}}),System.register("geocas/mother/canonicalReorderingSign.js",["./bitCount"],function(a,b){"use strict";function c(a,b){a>>=1;for(var c=0;0!==a;)c+=d["default"](a&b),a>>=1;return 0===(1&c)?1:-1}var d;b&&b.id;return a("default",c),{setters:[function(a){d=a}],execute:function(){}}}),System.register("geocas/checks/isUndefined.js",[],function(a,b){"use strict";function c(a){return"undefined"==typeof a}b&&b.id;return a("default",c),{setters:[],execute:function(){}}}),System.register("geocas/mother/minusOnePow.js",[],function(a,b){"use strict";function c(a){return 0===(1&a)?1:-1}b&&b.id;return a("default",c),{setters:[],execute:function(){}}}),System.register("geocas/mother/Blade.js",["./bitCount","./canonicalReorderingSign","../checks/isUndefined","./minusOnePow"],function(a,b){"use strict";function c(a,b,i){var j={get bitmap(){return a},get weight(){return b},__neg__:function(){return c(a,i.neg(b),i)},__vbar__:function(d,e){return a!==d.bitmap?c(h,i.zero(),i):c(h,i.mul(b,d.weight),i)},__wedge__:function(d){if(a&d.bitmap)return c(h,i.zero(),i);var f=a^d.bitmap,g=e["default"](a,d.bitmap),j=i.mul(b,d.weight);return c(f,g>0?j:i.neg(j),i)},grade:function(){return d["default"](a)},reverse:function(){var d=j.grade(),e=g["default"](d*(d-1)/2);return c(a,e>0?b:i.neg(b),i)},gradeInversion:function(){var d=j.grade(),e=g["default"](d);return c(a,e>0?b:i.neg(b),i)},cliffordConjugate:function(){var d=j.grade(),e=g["default"](d*(d+1)/2);return c(a,e>0?b:i.neg(b),i)},zero:function(){return c(h,i.zero(),i)},asString:function(c){for(var d="",e=1,g=a;0!==g;)0!==(1&g)&&(d.length>0&&(d+="^"),f["default"](c)||null===c||e>c.length||null==c[e-1]?d=d+"e"+e:d+=c[e-1]),g>>=1,e++;return 0===d.length?i.asString(b):i.asString(b)+"*"+d},toString:function(){return j.asString(void 0)}};return j}var d,e,f,g,h;b&&b.id;return a("default",c),{setters:[function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){h=0}}}),System.register("geocas/mother/simplify.js",["./Blade"],function(a,b){"use strict";function c(a,b){for(var c,e,f=[],g=function(){"undefined"!=typeof c&&(b.isZero(e)||f.push(d["default"](c,e,b)),c=void 0,e=void 0)},h=0;h<a.length;h++){var i=a[h];c===i.bitmap?e=b.add(e,i.weight):"undefined"==typeof c?(c=i.bitmap,e=i.weight):(g(),c=i.bitmap,e=i.weight)}return g(),f}var d;b&&b.id;return a("default",c),{setters:[function(a){d=a}],execute:function(){}}}),System.register("geocas/mother/Multivector.js",["./Blade","./gpE","./gpL","./gpG","./lcoE","./lcoL","./lcoG","./rcoE","./rcoL","./rcoG","../checks/isArray","../checks/isNumber","../checks/isUndefined","../checks/mustBeDefined","../checks/mustBeInteger","../checks/mustSatisfy","./simplify"],function(a,b){"use strict";function c(a){return!!a&&"function"==typeof a.extractGrade}function d(a,b,d,e){if(e.isField(a)&&c(b))return b.scale(a);if(c(a)&&e.isField(b))return a.scale(b);if(c(a)&&c(b)){for(var f=[],g=0;g<a.blades.length;g++)for(var i=a.blades[g],m=0;m<b.blades.length;m++){var n=b.blades[m];if(t["default"](d)){var o=j["default"](i,n,e);f.push(o)}else if(s["default"](d)){var o=k["default"](i,n,d,e);f.push(o)}else for(var o=l["default"](i,n,d,e),p=0;p<o.length;p++)f.push(o[p])}return h(y["default"](f,e),d,e)}}function e(a,b,d,e){if(e.isField(a)&&c(b))throw new Error("Multivector division is not yet supported.");if(c(a)&&e.isField(b))return a.divByScalar(b);if(c(a)&&c(b))throw new Error("Multivector division is not yet supported.")}function f(a,b,c){w["default"]("index",a),v["default"]("metric",b),v["default"]("adapter",c);var d=i["default"](1<<a,c.one(),c);return h([d],b,c)}function g(a,b,c){v["default"]("metric",b),v["default"]("adapter",c),x["default"]("weight",c.isField(a),function(){return"be a field value"});var d=i["default"](0,a,c);return h([d],b,c)}function h(a,b,c){if(!s["default"](a))throw new Error("blades must be Blade<T>[]");if(u["default"](b))throw new Error("metric must be defined");if(u["default"](c))throw new Error("adapter must be defined");var f=function(d){for(var e=[],f=0;f<a.length;f++){var g=a[f];g.grade()===d&&e.push(g)}return h(e,b,c)},g={get blades(){return a},__add__:function(d){for(var e=[],f=0;f<a.length;f++)e.push(a[f]);for(var g=0;g<d.blades.length;g++)e.push(d.blades[g]);return h(y["default"](e,c),b,c)},__sub__:function(d){for(var e=[],f=0;f<a.length;f++)e.push(a[f]);for(var g=0;g<d.blades.length;g++)e.push(d.blades[g].__neg__());return h(y["default"](e,c),b,c)},__mul__:function(a){return d(g,a,b,c)},__rmul__:function(a){return d(a,g,b,c)},__div__:function(a){return e(g,a,b,c)},__lshift__:function(d){for(var e=[],f=0;f<a.length;f++)for(var g=a[f],i=0;i<d.blades.length;i++){var j=d.blades[i];if(t["default"](b)){var k=m["default"](g,j,c);e.push(k)}else if(s["default"](b)){var k=n["default"](g,j,b,c);e.push(k)}else for(var k=o["default"](g,j,b,c),l=0;l<k.length;l++)e.push(k[l])}return h(y["default"](e,c),b,c)},__rshift__:function(d){for(var e=[],f=0;f<a.length;f++)for(var g=a[f],i=0;i<d.blades.length;i++){var j=d.blades[i];if(t["default"](b)){var k=p["default"](g,j,c);e.push(k)}else if(s["default"](b)){var k=q["default"](g,j,b,c);e.push(k)}else for(var k=r["default"](g,j,b,c),l=0;l<k.length;l++)e.push(k[l])}return h(y["default"](e,c),b,c)},__vbar__:function(a){return g.__mul__(a).extractGrade(0)},__wedge__:function(d){for(var e=[],f=0;f<a.length;f++)for(var g=a[f],i=0;i<d.blades.length;i++){var j=d.blades[i],k=g.__wedge__(j);e.push(k)}return h(y["default"](e,c),b,c)},__pos__:function(){return g},__neg__:function(){for(var d=[],e=0;e<a.length;e++){var f=a[e];d.push(f.__neg__())}return h(d,b,c)},exp:function(){var a=f(2),d=a.rev(),e=c.sqrt(a.__vbar__(d).scalarCoordinate()),g=a.divByScalar(e),j=h([i["default"](0,c.cos(e),c)],b,c),k=h([i["default"](0,c.sin(e),c)],b,c);return j.__add__(g.__mul__(k))},extractGrade:f,divByScalar:function(d){for(var e=[],f=0;f<a.length;f++){var g=a[f],j=c.div(g.weight,d);c.isZero(j)||e.push(i["default"](g.bitmap,j,c))}return h(e,b,c)},dual:function(){if(u["default"](b))throw new Error("metric must be number | number[] | Metric<T>");if(t["default"](b))return g;throw new Error("metric must be number | number[] | Metric<T>")},rev:function(){for(var d=[],e=0;e<a.length;e++){var f=a[e];d.push(f.reverse())}return h(d,b,c)},scalarCoordinate:function(){for(var b=0;b<a.length;b++){var d=a[b];if(0===d.bitmap)return d.weight}return c.zero()},scale:function(d){for(var e=[],f=0;f<a.length;f++){var g=a[f],j=c.mul(g.weight,d);c.isZero(j)||e.push(i["default"](g.bitmap,j,c))}return h(e,b,c)},scp:function(a){return g.__vbar__(a).scalarCoordinate()},asString:function(b){if(0===a.length)return"0";for(var c="",d=0;d<a.length;d++){var e=a[d],f=e.asString(b);0===d?c+=f:"-"===f.charAt(0)?(c+=" - ",c+=f.substring(1)):(c+=" + ",c+=f)}return c},toString:function(){return g.asString(void 0)}};return g}var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;b&&b.id;return a("getBasisVector",f),a("getScalar",g),a("default",h),{setters:[function(a){i=a},function(a){j=a},function(a){k=a},function(a){l=a},function(a){m=a},function(a){n=a},function(a){o=a},function(a){p=a},function(a){q=a},function(a){r=a},function(a){s=a},function(a){t=a},function(a){u=a},function(a){v=a},function(a){w=a},function(a){x=a},function(a){y=a}],execute:function(){}}}),System.register("geocas/mother/NumberFieldAdapter.js",[],function(a,b){"use strict";var c;b&&b.id;return{setters:[],execute:function(){c=function(){function a(){}return a.prototype.add=function(a,b){return a+b},a.prototype.sub=function(a,b){return a-b},a.prototype.mul=function(a,b){return a*b},a.prototype.div=function(a,b){return a/b},a.prototype.neg=function(a){return-a},a.prototype.asString=function(a){return a.toString()},a.prototype.cos=function(a){return Math.cos(a)},a.prototype.isField=function(a){return"number"==typeof a},a.prototype.isZero=function(a){return 0===a},a.prototype.one=function(){return 1},a.prototype.scale=function(a,b){return a*b},a.prototype.sin=function(a){return Math.sin(a)},a.prototype.sqrt=function(a){return Math.sqrt(a)},a.prototype.zero=function(){return 0},a}(),a("default",c)}}}),System.register("geocas/config.js",[],function(a,b){"use strict";var c,d;b&&b.id;return{setters:[],execute:function(){c=function(){function a(){this.GITHUB="https://github.com/geometryzen/GeoCAS",this.LAST_MODIFIED="2016-09-19",this.NAMESPACE="GeoCAS",this.VERSION="1.1.0"}return a.prototype.log=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.log(a)},a.prototype.info=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.info(a)},a.prototype.warn=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.warn(a)},a.prototype.error=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.error(a)},a}(),d=new c,a("default",d)}}}),System.register("geocas.js",["./geocas/math/Algebra","./geocas/math/BigInteger","./geocas/math/BigRational","./geocas/mother/Blade","./geocas/mother/Multivector","./geocas/mother/NumberFieldAdapter","./geocas/config"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k;b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a,i=a},function(a){h=a},function(a){j=a}],execute:function(){k={get LAST_MODIFIED(){return j["default"].LAST_MODIFIED},get VERSION(){return j["default"].VERSION},get Algebra(){return c["default"]},get bigInt(){return d["default"]},get bigRat(){return e["default"]},get blade(){return f["default"]},get mv(){return g["default"]},get NumberFieldAdapter(){return h["default"]},get getScalar(){return i.getScalar},get getBasisVector(){return i.getBasisVector}},a("default",k)}}});