/*! geocas 2016-07-28 */
System.register("geocas/math/Algebra.js",[],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=(b&&b.id,this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});return{setters:[],execute:function(){c=function(a,b){for(var c=[],d=a.length,e=b.length,f=0;f<d;f++){var g=a[f];if(!(b.indexOf(g)<0))return null;c.push(g)}for(var f=0;f<e;f++)c.push(b[f]);return c},d=function(){function a(a,b){this.env=a,this.type=b}return a.prototype.isChanged=function(){throw new Error(this.type+".isChanged is not implemented.")},a.prototype.copy=function(a){throw new Error(this.type+".copy is not implemented.")},a.prototype.reset=function(){throw new Error(this.type+".reset is not implemented.")},a.prototype.simplify=function(){throw new Error(this.type+".simplify is not implemented.")},a.prototype.toPrefix=function(){throw new Error(this.type+".toPrefix is not implemented.")},a.prototype.toString=function(){throw new Error(this.type+".toString is not implemented.")},a.prototype.__add__=function(b){return b instanceof a?new f(this,b):"number"==typeof b?new f(this,new m(this.env,b)):void 0},a.prototype.__radd__=function(b){return b instanceof a?new f(b,this):"number"==typeof b?new f(new m(this.env,b),this):void 0},a.prototype.__sub__=function(b){return b instanceof a?new g(this,b):"number"==typeof b?new g(this,new m(this.env,b)):void 0},a.prototype.__rsub__=function(b){return b instanceof a?new g(b,this):"number"==typeof b?new g(new m(this.env,b),this):void 0},a.prototype.__mul__=function(b){return b instanceof a?new h(this,b):"number"==typeof b?new h(this,new m(this.env,b)):void 0},a.prototype.__rmul__=function(b){return b instanceof a?new h(b,this):"number"==typeof b?new h(new m(this.env,b),this):void 0},a.prototype.__div__=function(b){return b instanceof a?new i(this,b):"number"==typeof b?new i(this,new m(this.env,b)):void 0},a.prototype.__rdiv__=function(b){return b instanceof a?new i(b,this):"number"==typeof b?new i(new m(this.env,b),this):void 0},a.prototype.__vbar__=function(b){return b instanceof a?new n(this,b):"number"==typeof b?new n(this,new m(this.env,b)):void 0},a.prototype.__rvbar__=function(b){return b instanceof a?new n(b,this):"number"==typeof b?new n(new m(this.env,b),this):void 0},a.prototype.__lshift__=function(b){return b instanceof a?new j(this,b):"number"==typeof b?new j(this,new m(this.env,b)):void 0},a.prototype.__rlshift__=function(b){return b instanceof a?new j(b,this):"number"==typeof b?new j(new m(this.env,b),this):void 0},a.prototype.__rshift__=function(b){return b instanceof a?new k(this,b):"number"==typeof b?new k(this,new m(this.env,b)):void 0},a.prototype.__rrshift__=function(b){return b instanceof a?new k(b,this):"number"==typeof b?new k(new m(this.env,b),this):void 0},a.prototype.__wedge__=function(b){return b instanceof a?new o(this,b):"number"==typeof b?new o(this,new m(this.env,b)):void 0},a.prototype.__rwedge__=function(b){return b instanceof a?new o(b,this):"number"==typeof b?new o(new m(this.env,b),this):void 0},a.prototype.__tilde__=function(){return new p(this)},a.prototype.__bang__=function(){return new q(this)},a.prototype.__neg__=function(){return new r(this)},a.prototype.__pos__=function(){return new s(this)},a}(),a("Expr",d),e=function(a){function b(b,c,e){if(a.call(this,b.env,e),this.lhs=b,this.rhs=c,!(b instanceof d))throw new Error(e+".lhs must be an Expr: "+typeof b);if(!(c instanceof d))throw new Error(e+".rhs must be an Expr: "+typeof c)}return u(b,a),b}(d),a("BinaryExpr",e),f=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"AddExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();if(c instanceof m&&"number"==typeof c.value&&0===c.value)return a.copy(!0);if(a instanceof h&&c instanceof h){if(a.lhs instanceof m&&c.lhs instanceof m&&a.rhs===c.rhs){var d=a.lhs,e=c.lhs;if("number"==typeof d.value&&"number"==typeof e.value){var f=new m(this.env,d.value+e.value);return new h(f,a.rhs,(!0))}return new b(a,c)}return new b(a,c)}return a instanceof m&&c instanceof m&&"number"==typeof a.value&&"number"==typeof c.value?new m(this.env,a.value+c.value,(!0)):new b(a,c)},b.prototype.toPrefix=function(){return"add("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" + "+this.rhs},b}(e),a("AddExpr",f),g=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"SubExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();return new b(a,c)},b.prototype.toPrefix=function(){return"sub("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" - "+this.rhs},b}(e),a("SubExpr",g),h=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"MultiplyExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();if(a instanceof b){var d=a.lhs,e=a.rhs;return d instanceof m?new b(d,new b(e,c),(!0)):new b(a,c)}if(c instanceof b){var f=c.lhs,g=c.rhs;return f instanceof m?new b(f,new b(a,g),(!0)):new b(a,c)}if(a instanceof m)return"number"==typeof a.value&&0===a.value?a.copy(!0):"number"==typeof a.value&&1===a.value?c.copy(!0):c instanceof m?"number"==typeof a.value&&1===a.value?c:"number"==typeof a.value&&"number"==typeof c.value?new m(this.env,a.value*c.value,(!0)):"number"!=typeof a.value&&"number"==typeof c.value?new b(c,a,(!0)):new b(a,c):new b(a,c);if(a instanceof l){if(c instanceof b){var f=c.lhs,g=c.rhs;return f instanceof l&&a.vectors[0]===f.vectors[0]?new b(new b(a,f),g,(!0)):new b(a,c)}return c instanceof l?a===c?new n(a,c,(!0)):new b(a,c):c instanceof m?new b(c,a,(!0)):new b(a,c)}return new b(a,c)},b.prototype.toPrefix=function(){return"mul("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" * "+this.rhs},b}(e),a("MultiplyExpr",h),i=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"SubExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();return new b(a,c)},b.prototype.toPrefix=function(){return"div("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" / "+this.rhs},b}(e),a("DivideExpr",i),j=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"LContractExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();return new b(a,c)},b.prototype.toPrefix=function(){return"lco("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" << "+this.rhs},b}(e),a("LContractExpr",j),k=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"RContractExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();return new b(a,c)},b.prototype.toPrefix=function(){return"rco("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" >> "+this.rhs},b}(e),a("RContractExpr",k),l=function(a){function b(b,c,d){if(void 0===d&&(d=!1),a.call(this,b,"BasisBladeExpr"),this.vectors=c,this.dirty=d,!Array.isArray(c))throw new Error("vectors must be a number[]")}return u(b,a),b.prototype.isChanged=function(){return this.dirty},b.prototype.copy=function(a){return new b(this.env,this.vectors,a)},b.prototype.reset=function(){return this.dirty?new b(this.env,this.vectors,(!1)):this},b.prototype.simplify=function(){return this},b.prototype.toPrefix=function(){return this.env.bladeName(this.vectors)},b.prototype.toString=function(){return this.env.bladeName(this.vectors)},b}(d),a("BasisBladeExpr",l),m=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,"ScalarExpr"),this.value=c,this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return!1},b.prototype.copy=function(a){return new b(this.env,this.value,a)},b.prototype.reset=function(){return this.dirty?new b(this.env,this.value,(!1)):this},b.prototype.simplify=function(){return this},b.prototype.toPrefix=function(){return""+this.value},b.prototype.toPrefixLong=function(){return"ScalarExpr('"+this.value+"')"},b.prototype.toString=function(){return""+this.value},b}(d),a("ScalarExpr",m),n=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"VBarExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();if(a instanceof l&&c instanceof l)return this.env.g(a,c);if(a instanceof f&&c instanceof l){var e=a.lhs,g=a.rhs;return new f(new b(e,c),new b(g,c),(!0))}if(a instanceof l&&c instanceof f){var i=c.lhs,j=c.rhs;return new f(new b(a,i),new b(a,j),(!0))}if(a instanceof h&&c instanceof d){var e=a.lhs,g=a.rhs;return e instanceof m&&g instanceof l?new h(e,new b(g,c),(!0)):new b(a,c)}if(a instanceof l&&c instanceof h){var i=c.lhs,j=c.rhs;return i instanceof m&&j instanceof l?new h(i,new b(a,j),(!0)):new b(a,c)}return new b(a,c)},b.prototype.toPrefix=function(){return"scp("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" | "+this.rhs},b}(e),a("VBarExpr",n),o=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"WedgeExpr"),this.dirty=d}return u(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),d=this.rhs.simplify();if(a instanceof m)return d instanceof m?new m(this.env,0,(!0)):"number"==typeof a.value&&1===a.value?d.copy(!0):new b(a,d);if(d instanceof m)return a instanceof m?new m(this.env,0,(!0)):"number"==typeof d.value&&1===d.value&&a instanceof l?a.copy(!0):new b(a,d);if(a instanceof l&&d instanceof l){var e=c(a.vectors,d.vectors);return Array.isArray(e)?new l(this.env,e,(!0)):new m(this.env,0,(!0))}return a instanceof l&&d instanceof l?a===d?new m(this.env,0,(!0)):new f(new h(a,d),new h(new m(this.env,(-1)),new n(a,d)),(!0)):new b(a,d)},b.prototype.toPrefix=function(){return"ext("+this.lhs+", "+this.rhs+")"},b.prototype.toString=function(){return this.lhs+" ^ "+this.rhs},b}(e),a("WedgeExpr",o),p=function(a){function b(b){a.call(this,b.env,"ReverseExpr"),this.inner=b}return u(b,a),b.prototype.toPrefix=function(){return"reverse("+this.inner+")"},b.prototype.toString=function(){return"~"+this.inner},b}(d),a("ReverseExpr",p),q=function(a){function b(b){a.call(this,b.env,"InverseExpr"),this.inner=b}return u(b,a),b.prototype.toPrefix=function(){return"inverse("+this.inner+")"},b.prototype.toString=function(){return"!"+this.inner},b}(d),a("InverseExpr",q),r=function(a){function b(b){a.call(this,b.env,"NegExpr"),this.inner=b}return u(b,a),b.prototype.toPrefix=function(){return"neg("+this.inner+")"},b.prototype.toString=function(){return"-"+this.inner},b}(d),a("NegExpr",r),s=function(a){function b(b){a.call(this,b.env,"PosExpr"),this.inner=b}return u(b,a),b.prototype.toPrefix=function(){return"pos("+this.inner+")"},b.prototype.toString=function(){return"+"+this.inner},b}(d),a("PosExpr",s),t=function(){function a(a,b){this.basis=[],this._bnames=[],this._metric=a,this.basis.push(new l(this,[])),this._bnames[0]="1";for(var c=0;c<this._metric.length;c++)for(var d=new l(this,[c]),e=this.basis.length,f=0;f<e;f++){var g=this.basis[f],h=new o(g,d),i=this.simplify(h);if(!(i instanceof l))throw new Error(h+" must simplify to a BasisBladeExpr");this.basis.push(i)}}return a.prototype.bladeName=function(a){var b=this;return a.length>0?a.map(function(a){if(b._bnames){var c=Math.pow(2,a);if(b._bnames[c])return b._bnames[c]}return"e"+(a+1)}).join(" ^ "):this._bnames[0]},a.prototype.g=function(a,b){var c=a.vectors[0],d=b.vectors[0];return new m(this,this._metric[c][d])},a.prototype.scalar=function(a){return new m(this,a)},a.prototype.simplify=function(a){var b=0;if(a instanceof d){for(a=a.reset(),a=a.simplify();a.isChanged();)a=a.reset(),b++,b<100&&(a=a.simplify());return a}throw new Error("expr must be an Expr")},a}(),a("default",t)}}}),System.register("geocas/config.js",[],function(a,b){"use strict";var c,d;b&&b.id;return{setters:[],execute:function(){c=function(){function a(){this.GITHUB="https://github.com/geometryzen/GeoCAS",this.LAST_MODIFIED="2016-07-20",this.NAMESPACE="GeoCAS",this.VERSION="1.0.0"}return a.prototype.log=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.log(a)},a.prototype.info=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.info(a)},a.prototype.warn=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.warn(a)},a.prototype.error=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.error(a)},a}(),d=new c,a("default",d)}}}),System.register("geocas.js",["./geocas/math/Algebra","./geocas/config"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e={get LAST_MODIFIED(){return d["default"].LAST_MODIFIED},get VERSION(){return d["default"].VERSION},get Algebra(){return c["default"]}},a("default",e)}}});