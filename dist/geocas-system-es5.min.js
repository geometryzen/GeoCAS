/*! geocas 2016-07-28 */
System.register("geocas/math/Algebra.js",[],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m=(b&&b.id,this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});return{setters:[],execute:function(){c=function(a,b){for(var c=[],d=a.length,e=b.length,f=0;f<d;f++){var g=a[f];if(!(b.indexOf(g)<0))return null;c.push(g)}for(var f=0;f<e;f++)c.push(b[f]);return c},d=function(){function a(a,b){this.g=a,this.type=b}return a.prototype.isChanged=function(){throw new Error(this.type+".isChanged is not implemented.")},a.prototype.copy=function(a){throw new Error(this.type+".copy is not implemented.")},a.prototype.reset=function(){throw new Error(this.type+".reset is not implemented.")},a.prototype.simplify=function(){throw new Error(this.type+".simplify is not implemented.")},a.prototype.toPrefix=function(){throw new Error(this.type+".toPrefix is not implemented.")},a.prototype.toString=function(){throw new Error(this.type+".toString is not implemented.")},a.prototype.__add__=function(b){return b instanceof a?new f(this,b):"number"==typeof b?new f(this,new i(this.g,b)):void 0},a.prototype.__radd__=function(b){return b instanceof a?new f(b,this):"number"==typeof b?new f(new i(this.g,b),this):void 0},a.prototype.__mul__=function(b){return b instanceof a?new g(this,b):"number"==typeof b?new g(this,new i(this.g,b)):void 0},a.prototype.__rmul__=function(b){return b instanceof a?new g(b,this):"number"==typeof b?new g(new i(this.g,b),this):void 0},a.prototype.__vbar__=function(b){return b instanceof a?new j(this,b):"number"==typeof b?new j(this,new i(this.g,b)):void 0},a.prototype.__rvbar__=function(b){return b instanceof a?new j(b,this):"number"==typeof b?new j(new i(this.g,b),this):void 0},a.prototype.__wedge__=function(b){return b instanceof a?new k(this,b):"number"==typeof b?new k(this,new i(this.g,b)):void 0},a.prototype.__rwedge__=function(b){return b instanceof a?new j(b,this):"number"==typeof b?new j(new i(this.g,b),this):void 0},a}(),a("Expr",d),e=function(a){function b(b,c,e){if(a.call(this,b.g,e),this.lhs=b,this.rhs=c,!(b instanceof d))throw new Error(e+".lhs must be an Expr: "+typeof b);if(!(c instanceof d))throw new Error(e+".rhs must be an Expr: "+typeof c)}return m(b,a),b}(d),a("BinaryExpr",e),f=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"AddExpr"),this.dirty=d}return m(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();if(c instanceof i&&"number"==typeof c.value&&0===c.value)return a.copy(!0);if(a instanceof g&&c instanceof g){if(a.lhs instanceof i&&c.lhs instanceof i&&a.rhs===c.rhs){var d=a.lhs,e=c.lhs;if("number"==typeof d.value&&"number"==typeof e.value){var f=new i(this.g,d.value+e.value);return new g(f,a.rhs,(!0))}return new b(a,c)}return new b(a,c)}return a instanceof i&&c instanceof i&&"number"==typeof a.value&&"number"==typeof c.value?new i(this.g,a.value+c.value,(!0)):new b(a,c)},b.prototype.toPrefix=function(){return"+("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" + "+this.rhs},b}(e),a("AddExpr",f),g=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"MultiplyExpr"),this.dirty=d}return m(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.copy=function(a){return new b(this.lhs,this.rhs,a)},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();if(a instanceof i)return"number"==typeof a.value&&0===a.value?a.copy(!0):"number"==typeof a.value&&1===a.value?c.copy(!0):c instanceof i?"number"==typeof a.value&&1===a.value?c:"number"==typeof a.value&&"number"==typeof c.value?new i(this.g,a.value*c.value,(!0)):"number"!=typeof a.value&&"number"==typeof c.value?new b(c,a,(!0)):new b(a,c):new b(a,c);if(a instanceof h){if(c instanceof b){var d=c.lhs,e=c.rhs;return d instanceof h&&a.vectors[0]===d.vectors[0]?new b(new b(a,d),e,(!0)):new b(a,c)}return c instanceof h?a===c?this.g(a,c):new b(a,c):c instanceof i?new b(c,a,(!0)):new b(a,c)}return new b(a,c)},b.prototype.toPrefix=function(){return"*("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" * "+this.rhs},b}(e),a("MulExpr",g),h=function(a){function b(b,c,d){if(void 0===d&&(d=!1),a.call(this,b,"BasisBladeExpr"),this.vectors=c,this.dirty=d,!Array.isArray(c))throw new Error("vectors must be a number[]")}return m(b,a),b.prototype.isChanged=function(){return this.dirty},b.prototype.copy=function(a){return new b(this.g,this.vectors,a)},b.prototype.reset=function(){return this.dirty?new b(this.g,this.vectors,(!1)):this},b.prototype.simplify=function(){return this},b.prototype.toPrefix=function(){return this.vectors.length>0?this.vectors.map(function(a){return"e"+(a+1)}).join(" ^ "):"1"},b.prototype.toString=function(){return this.vectors.length>0?this.vectors.map(function(a){return"e"+(a+1)}).join(" ^ "):"1"},b}(d),a("BasisBladeExpr",h),i=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,"ScalarExpr"),this.value=c,this.dirty=d}return m(b,a),b.prototype.isChanged=function(){return!1},b.prototype.copy=function(a){return new b(this.g,this.value,a)},b.prototype.reset=function(){return this.dirty?new b(this.g,this.value,(!1)):this},b.prototype.simplify=function(){return this},b.prototype.toPrefix=function(){return""+this.value},b.prototype.toPrefixLong=function(){return"ScalarExpr('"+this.value+"')"},b.prototype.toString=function(){return""+this.value},b}(d),a("ScalarExpr",i),j=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"VBarExpr"),this.dirty=d}return m(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),c=this.rhs.simplify();if(a instanceof h&&c instanceof h)return this.g(a,c);if(a instanceof f&&c instanceof h){var e=a.lhs,j=a.rhs;return new f(new b(e,c),new b(j,c),(!0))}if(a instanceof h&&c instanceof f){var k=c.lhs,l=c.rhs;return new f(new b(a,k),new b(a,l),(!0))}if(a instanceof g&&c instanceof d){var e=a.lhs,j=a.rhs;return e instanceof i&&j instanceof h?new g(e,new b(j,c),(!0)):new b(a,c)}if(a instanceof h&&c instanceof g){var k=c.lhs,l=c.rhs;return k instanceof i&&l instanceof h?new g(k,new b(a,l),(!0)):new b(a,c)}return new b(a,c)},b.prototype.toPrefix=function(){return"scp("+this.lhs.toPrefix()+", "+this.rhs.toPrefix()+")"},b.prototype.toString=function(){return this.lhs+" | "+this.rhs},b}(e),a("VBarExpr",j),k=function(a){function b(b,c,d){void 0===d&&(d=!1),a.call(this,b,c,"WedgeExpr"),this.dirty=d}return m(b,a),b.prototype.isChanged=function(){return this.dirty||this.lhs.isChanged()||this.rhs.isChanged()},b.prototype.reset=function(){return new b(this.lhs.reset(),this.rhs.reset())},b.prototype.simplify=function(){var a=this.lhs.simplify(),d=this.rhs.simplify();if(a instanceof i)return d instanceof i?new i(this.g,0,(!0)):"number"==typeof a.value&&1===a.value?d.copy(!0):new b(a,d);if(d instanceof i)return a instanceof i?new i(this.g,0,(!0)):"number"==typeof d.value&&1===d.value&&a instanceof h?a.copy(!0):new b(a,d);if(a instanceof h&&d instanceof h){var e=c(a.vectors,d.vectors);return Array.isArray(e)?new h(this.g,e,(!0)):new i(this.g,0,(!0))}return a instanceof h&&d instanceof h?a===d?new i(this.g,0,(!0)):new f(new g(a,d),new g(new i(this.g,(-1)),new j(a,d)),(!0)):new b(a,d)},b.prototype.toPrefix=function(){return"^("+this.lhs+", "+this.rhs+")"},b.prototype.toString=function(){return this.lhs+" ^ "+this.rhs},b}(e),a("WedgeExpr",k),l=function(){function a(a,b){var c=this;this.basis=[],this.index={},this.metric=function(a,d){var e=a.vectors[0],f=d.vectors[0];return new i(c.metric,b[e][f])},this.basis.push(new h(this.metric,[])),this.index[1]=0;for(var d=0;d<a.length;d++){var e=a[d],f=new h(this.metric,[d]),g=Math.pow(2,d);this.index[e]=g;for(var j=this.basis.length,l=0;l<j;l++){var m=this.basis[l],n=new k(m,f),o=this.simplify(n);if(!(o instanceof h))throw new Error(n+" must simplify to a BasisBladeExpr");this.basis.push(o)}}}return a.prototype.scalar=function(a){return new i(this.metric,a)},a.prototype.simplify=function(a){var b=0;if(a instanceof d){for(a=a.reset(),a=a.simplify();a.isChanged();)a=a.reset(),b++,b<100&&(a=a.simplify());return a}throw new Error("expr must be an Expr")},a}(),a("default",l)}}}),System.register("geocas/config.js",[],function(a,b){"use strict";var c,d;b&&b.id;return{setters:[],execute:function(){c=function(){function a(){this.GITHUB="https://github.com/geometryzen/GeoCAS",this.LAST_MODIFIED="2016-07-20",this.NAMESPACE="GeoCAS",this.VERSION="1.0.0"}return a.prototype.log=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.log(a)},a.prototype.info=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.info(a)},a.prototype.warn=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.warn(a)},a.prototype.error=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];console.error(a)},a}(),d=new c,a("default",d)}}}),System.register("geocas.js",["./geocas/math/Algebra","./geocas/config"],function(a,b){"use strict";var c,d,e;b&&b.id;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e={get LAST_MODIFIED(){return d["default"].LAST_MODIFIED},get VERSION(){return d["default"].VERSION},get Algebra(){return c["default"]}},a("default",e)}}});